var Oe=typeof globalThis<"u"?globalThis:typeof{}<"u"?{}:typeof global<"u"?global:typeof self<"u"?self:{},de={},We={get exports(){return de},set exports(t){de=t}};(function(t,y){(function(S,l){t.exports=l()})(Oe,()=>{return S={770:function(R,a,L){var k=this&&this.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(a,"__esModule",{value:!0}),a.setDefaultDebugCall=a.createOnigScanner=a.createOnigString=a.loadWASM=a.OnigScanner=a.OnigString=void 0;const v=k(L(418));let r=null,w=!1;class m{static _utf8ByteLength(d){let u=0;for(let c=0,_=d.length;c<_;c++){const o=d.charCodeAt(c);let e=o,n=!1;if(o>=55296&&o<=56319&&c+1<_){const i=d.charCodeAt(c+1);i>=56320&&i<=57343&&(e=65536+(o-55296<<10)|i-56320,n=!0)}u+=e<=127?1:e<=2047?2:e<=65535?3:4,n&&c++}return u}constructor(d){const u=d.length,c=m._utf8ByteLength(d),_=c!==u,o=_?new Uint32Array(u+1):null;_&&(o[u]=c);const e=_?new Uint32Array(c+1):null;_&&(e[c]=u);const n=new Uint8Array(c);let i=0;for(let s=0;s<u;s++){const h=d.charCodeAt(s);let p=h,f=!1;if(h>=55296&&h<=56319&&s+1<u){const A=d.charCodeAt(s+1);A>=56320&&A<=57343&&(p=65536+(h-55296<<10)|A-56320,f=!0)}_&&(o[s]=i,f&&(o[s+1]=i),p<=127?e[i+0]=s:p<=2047?(e[i+0]=s,e[i+1]=s):p<=65535?(e[i+0]=s,e[i+1]=s,e[i+2]=s):(e[i+0]=s,e[i+1]=s,e[i+2]=s,e[i+3]=s)),p<=127?n[i++]=p:p<=2047?(n[i++]=192|(1984&p)>>>6,n[i++]=128|(63&p)>>>0):p<=65535?(n[i++]=224|(61440&p)>>>12,n[i++]=128|(4032&p)>>>6,n[i++]=128|(63&p)>>>0):(n[i++]=240|(1835008&p)>>>18,n[i++]=128|(258048&p)>>>12,n[i++]=128|(4032&p)>>>6,n[i++]=128|(63&p)>>>0),f&&s++}this.utf16Length=u,this.utf8Length=c,this.utf16Value=d,this.utf8Value=n,this.utf16OffsetToUtf8=o,this.utf8OffsetToUtf16=e}createString(d){const u=d._omalloc(this.utf8Length);return d.HEAPU8.set(this.utf8Value,u),u}}class b{constructor(d){if(this.id=++b.LAST_ID,!r)throw new Error("Must invoke loadWASM first.");this._onigBinding=r,this.content=d;const u=new m(d);this.utf16Length=u.utf16Length,this.utf8Length=u.utf8Length,this.utf16OffsetToUtf8=u.utf16OffsetToUtf8,this.utf8OffsetToUtf16=u.utf8OffsetToUtf16,this.utf8Length<1e4&&!b._sharedPtrInUse?(b._sharedPtr||(b._sharedPtr=r._omalloc(1e4)),b._sharedPtrInUse=!0,r.HEAPU8.set(u.utf8Value,b._sharedPtr),this.ptr=b._sharedPtr):this.ptr=u.createString(r)}convertUtf8OffsetToUtf16(d){return this.utf8OffsetToUtf16?d<0?0:d>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[d]:d}convertUtf16OffsetToUtf8(d){return this.utf16OffsetToUtf8?d<0?0:d>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[d]:d}dispose(){this.ptr===b._sharedPtr?b._sharedPtrInUse=!1:this._onigBinding._ofree(this.ptr)}}a.OnigString=b,b.LAST_ID=0,b._sharedPtr=0,b._sharedPtrInUse=!1;class T{constructor(d){if(!r)throw new Error("Must invoke loadWASM first.");const u=[],c=[];for(let n=0,i=d.length;n<i;n++){const s=new m(d[n]);u[n]=s.createString(r),c[n]=s.utf8Length}const _=r._omalloc(4*d.length);r.HEAPU32.set(u,_/4);const o=r._omalloc(4*d.length);r.HEAPU32.set(c,o/4);const e=r._createOnigScanner(_,o,d.length);for(let n=0,i=d.length;n<i;n++)r._ofree(u[n]);r._ofree(o),r._ofree(_),e===0&&function(n){throw new Error(n.UTF8ToString(n._getLastOnigError()))}(r),this._onigBinding=r,this._ptr=e}dispose(){this._onigBinding._freeOnigScanner(this._ptr)}findNextMatchSync(d,u,c){let _=w,o=0;if(typeof c=="number"?(8&c&&(_=!0),o=c):typeof c=="boolean"&&(_=c),typeof d=="string"){d=new b(d);const e=this._findNextMatchSync(d,u,_,o);return d.dispose(),e}return this._findNextMatchSync(d,u,_,o)}_findNextMatchSync(d,u,c,_){const o=this._onigBinding;let e;if(e=c?o._findNextOnigScannerMatchDbg(this._ptr,d.id,d.ptr,d.utf8Length,d.convertUtf16OffsetToUtf8(u),_):o._findNextOnigScannerMatch(this._ptr,d.id,d.ptr,d.utf8Length,d.convertUtf16OffsetToUtf8(u),_),e===0)return null;const n=o.HEAPU32;let i=e/4;const s=n[i++],h=n[i++];let p=[];for(let f=0;f<h;f++){const A=d.convertUtf8OffsetToUtf16(n[i++]),x=d.convertUtf8OffsetToUtf16(n[i++]);p[f]={start:A,end:x,length:x-A}}return{index:s,captureIndices:p}}}a.OnigScanner=T;let g=!1,j=null;a.loadWASM=function(N){if(g)return j;let d,u,c,_;if(g=!0,function(o){return typeof o.instantiator=="function"}(N))d=N.instantiator,u=N.print;else{let o;(function(e){return e.data!==void 0})(N)?(o=N.data,u=N.print):o=N,d=function(e){return typeof Response<"u"&&e instanceof Response}(o)?typeof WebAssembly.instantiateStreaming=="function"?function(e){return n=>WebAssembly.instantiateStreaming(e,n)}(o):function(e){return async n=>{const i=await e.arrayBuffer();return WebAssembly.instantiate(i,n)}}(o):function(e){return n=>WebAssembly.instantiate(e,n)}(o)}return j=new Promise((o,e)=>{c=o,_=e}),function(o,e,n,i){(0,v.default)({print:e,instantiateWasm:(s,h)=>{if(typeof performance>"u"){const p=()=>Date.now();s.env.emscripten_get_now=p,s.wasi_snapshot_preview1.emscripten_get_now=p}return o(s).then(p=>h(p.instance),i),{}}}).then(s=>{r=s,n()})}(d,u,c,_),j},a.createOnigString=function(N){return new b(N)},a.createOnigScanner=function(N){return new T(N)},a.setDefaultDebugCall=function(N){w=N}},418:R=>{var a=(typeof document<"u"&&document.currentScript&&document.currentScript.src,function(L){var k,v,r=(L=L||{})!==void 0?L:{};r.ready=new Promise(function(I,E){k=I,v=E});var w,m=Object.assign({},r),b=!1,T="";function g(I){return r.locateFile?r.locateFile(I,T):T+I}w=function(I){let E;return typeof readbuffer=="function"?new Uint8Array(readbuffer(I)):(E=read(I,"binary"),_(typeof E=="object"),E)},typeof scriptArgs<"u"&&scriptArgs,typeof onig_print<"u"&&(typeof console>"u"&&(console={}),console.log=onig_print,console.warn=console.error=typeof printErr<"u"?printErr:onig_print);var j,N,d=r.print||console.log.bind(console),u=r.printErr||console.warn.bind(console);Object.assign(r,m),m=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit,r.wasmBinary&&(j=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&D("no native wasm support detected");var c=!1;function _(I,E){I||D(E)}var o,e,n,i=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function s(I,E,X){for(var te=E+X,z=E;I[z]&&!(z>=te);)++z;if(z-E>16&&I.buffer&&i)return i.decode(I.subarray(E,z));for(var W="";E<z;){var Y=I[E++];if(128&Y){var he=63&I[E++];if((224&Y)!=192){var ge=63&I[E++];if((Y=(240&Y)==224?(15&Y)<<12|he<<6|ge:(7&Y)<<18|he<<12|ge<<6|63&I[E++])<65536)W+=String.fromCharCode(Y);else{var je=Y-65536;W+=String.fromCharCode(55296|je>>10,56320|1023&je)}}else W+=String.fromCharCode((31&Y)<<6|he)}else W+=String.fromCharCode(Y)}return W}function h(I,E){return I?s(e,I,E):""}function p(I){o=I,r.HEAP8=new Int8Array(I),r.HEAP16=new Int16Array(I),r.HEAP32=new Int32Array(I),r.HEAPU8=e=new Uint8Array(I),r.HEAPU16=new Uint16Array(I),r.HEAPU32=n=new Uint32Array(I),r.HEAPF32=new Float32Array(I),r.HEAPF64=new Float64Array(I)}r.INITIAL_MEMORY;var f=[],A=[],x=[];function O(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)U(r.preRun.shift());ne(f)}function G(){ne(A)}function H(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)V(r.postRun.shift());ne(x)}function U(I){f.unshift(I)}function B(I){A.unshift(I)}function V(I){x.unshift(I)}var C=0,q=null;function F(I){C++,r.monitorRunDependencies&&r.monitorRunDependencies(C)}function M(I){if(C--,r.monitorRunDependencies&&r.monitorRunDependencies(C),C==0&&q){var E=q;q=null,E()}}function D(I){r.onAbort&&r.onAbort(I),u(I="Aborted("+I+")"),c=!0,I+=". Build with -sASSERTIONS for more info.";var E=new WebAssembly.RuntimeError(I);throw v(E),E}var J,P,Q="data:application/octet-stream;base64,";function $(I){return I.startsWith(Q)}function ee(I){try{if(I==J&&j)return new Uint8Array(j);if(w)return w(I);throw"both async and sync fetching of the wasm failed"}catch(E){D(E)}}function ae(){return j||!b||typeof fetch!="function"?Promise.resolve().then(function(){return ee(J)}):fetch(J,{credentials:"same-origin"}).then(function(I){if(!I.ok)throw"failed to load wasm binary file at '"+J+"'";return I.arrayBuffer()}).catch(function(){return ee(J)})}function fe(){var I={env:le,wasi_snapshot_preview1:le};function E(z,W){var Y=z.exports;r.asm=Y,p((N=r.asm.memory).buffer),r.asm.__indirect_function_table,B(r.asm.__wasm_call_ctors),M()}function X(z){E(z.instance)}function te(z){return ae().then(function(W){return WebAssembly.instantiate(W,I)}).then(function(W){return W}).then(z,function(W){u("failed to asynchronously prepare wasm: "+W),D(W)})}if(F(),r.instantiateWasm)try{return r.instantiateWasm(I,E)}catch(z){u("Module.instantiateWasm callback failed with error: "+z),v(z)}return(j||typeof WebAssembly.instantiateStreaming!="function"||$(J)||typeof fetch!="function"?te(X):fetch(J,{credentials:"same-origin"}).then(function(z){return WebAssembly.instantiateStreaming(z,I).then(X,function(W){return u("wasm streaming compile failed: "+W),u("falling back to ArrayBuffer instantiation"),te(X)})})).catch(v),{}}function ne(I){for(;I.length>0;)I.shift()(r)}function se(I,E,X){e.copyWithin(I,E,E+X)}function ue(I){try{return N.grow(I-o.byteLength+65535>>>16),p(N.buffer),1}catch{}}function ie(I){var E,X=e.length,te=2147483648;if((I>>>=0)>te)return!1;for(var z=1;z<=4;z*=2){var W=X*(1+.2/z);if(W=Math.min(W,I+100663296),ue(Math.min(te,(E=Math.max(I,W))+(65536-E%65536)%65536)))return!0}return!1}$(J="onig.wasm")||(J=g(J)),P=typeof dateNow<"u"?dateNow:()=>performance.now();var oe=[null,[],[]];function ce(I,E){var X=oe[I];E===0||E===10?((I===1?d:u)(s(X,0)),X.length=0):X.push(E)}function re(I,E,X,te){for(var z=0,W=0;W<X;W++){var Y=n[E>>2],he=n[E+4>>2];E+=8;for(var ge=0;ge<he;ge++)ce(I,e[Y+ge]);z+=he}return n[te>>2]=z,0}var Z,le={emscripten_get_now:P,emscripten_memcpy_big:se,emscripten_resize_heap:ie,fd_write:re};function pe(I){function E(){Z||(Z=!0,r.calledRun=!0,c||(G(),k(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),H()))}C>0||(O(),C>0||(r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),E()},1)):E()))}if(fe(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)},r.___errno_location=function(){return(r.___errno_location=r.asm.__errno_location).apply(null,arguments)},r._omalloc=function(){return(r._omalloc=r.asm.omalloc).apply(null,arguments)},r._ofree=function(){return(r._ofree=r.asm.ofree).apply(null,arguments)},r._getLastOnigError=function(){return(r._getLastOnigError=r.asm.getLastOnigError).apply(null,arguments)},r._createOnigScanner=function(){return(r._createOnigScanner=r.asm.createOnigScanner).apply(null,arguments)},r._freeOnigScanner=function(){return(r._freeOnigScanner=r.asm.freeOnigScanner).apply(null,arguments)},r._findNextOnigScannerMatch=function(){return(r._findNextOnigScannerMatch=r.asm.findNextOnigScannerMatch).apply(null,arguments)},r._findNextOnigScannerMatchDbg=function(){return(r._findNextOnigScannerMatchDbg=r.asm.findNextOnigScannerMatchDbg).apply(null,arguments)},r.stackSave=function(){return(r.stackSave=r.asm.stackSave).apply(null,arguments)},r.stackRestore=function(){return(r.stackRestore=r.asm.stackRestore).apply(null,arguments)},r.stackAlloc=function(){return(r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.dynCall_jiji).apply(null,arguments)},r.UTF8ToString=h,q=function I(){Z||pe(),Z||(q=I)},r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return pe(),L.ready});R.exports=a}},l={},function R(a){var L=l[a];if(L!==void 0)return L.exports;var k=l[a]={exports:{}};return S[a].call(k.exports,k,k.exports,R),k.exports}(770);var S,l})})(We);var ye={},qe={get exports(){return ye},set exports(t){ye=t}};(function(t,y){(function(S,l){t.exports=l()})(Oe,function(){return(()=>{var S={350:(R,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UseOnigurumaFindOptions=a.DebugFlags=void 0,a.DebugFlags={InDebugMode:typeof process<"u"&&!1},a.UseOnigurumaFindOptions=!1},36:(R,a)=>{var L;Object.defineProperty(a,"__esModule",{value:!0}),a.toOptionalTokenType=a.EncodedTokenAttributes=void 0,(L=a.EncodedTokenAttributes||(a.EncodedTokenAttributes={})).toBinaryStr=function(k){let v=k.toString(2);for(;v.length<32;)v="0"+v;return v},L.print=function(k){const v=L.getLanguageId(k),r=L.getTokenType(k),w=L.getFontStyle(k),m=L.getForeground(k),b=L.getBackground(k);console.log({languageId:v,tokenType:r,fontStyle:w,foreground:m,background:b})},L.getLanguageId=function(k){return(255&k)>>>0},L.getTokenType=function(k){return(768&k)>>>8},L.containsBalancedBrackets=function(k){return(1024&k)!=0},L.getFontStyle=function(k){return(30720&k)>>>11},L.getForeground=function(k){return(16744448&k)>>>15},L.getBackground=function(k){return(4278190080&k)>>>24},L.set=function(k,v,r,w,m,b,T){let g=L.getLanguageId(k),j=L.getTokenType(k),N=L.containsBalancedBrackets(k)?1:0,d=L.getFontStyle(k),u=L.getForeground(k),c=L.getBackground(k);return v!==0&&(g=v),r!==8&&(j=r),w!==null&&(N=w?1:0),m!==-1&&(d=m),b!==0&&(u=b),T!==0&&(c=T),(g<<0|j<<8|N<<10|d<<11|u<<15|c<<24)>>>0},a.toOptionalTokenType=function(k){return k}},996:(R,a,L)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BasicScopeAttributesProvider=a.BasicScopeAttributes=void 0;const k=L(878);class v{constructor(b,T){this.languageId=b,this.tokenType=T}}a.BasicScopeAttributes=v;class r{constructor(b,T){this._getBasicScopeAttributes=new k.CachedFn(g=>{const j=this._scopeToLanguage(g),N=this._toStandardTokenType(g);return new v(j,N)}),this._defaultAttributes=new v(b,8),this._embeddedLanguagesMatcher=new w(Object.entries(T||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(b){return b===null?r._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(b)}_scopeToLanguage(b){return this._embeddedLanguagesMatcher.match(b)||0}_toStandardTokenType(b){const T=b.match(r.STANDARD_TOKEN_TYPE_REGEXP);if(!T)return 8;switch(T[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}}a.BasicScopeAttributesProvider=r,r._NULL_SCOPE_METADATA=new v(0,0),r.STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/;class w{constructor(b){if(b.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(b);const T=b.map(([g,j])=>k.escapeRegExpCharacters(g));T.sort(),T.reverse(),this.scopesRegExp=new RegExp(`^((${T.join(")|(")}))($|\\.)`,"")}}match(b){if(!this.scopesRegExp)return;const T=b.match(this.scopesRegExp);return T?this.values.get(T[1]):void 0}}},947:(R,a,L)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LineTokens=a.BalancedBracketSelectors=a.StateStack=a.AttributedScopeStack=a.Grammar=a.createGrammar=void 0;const k=L(350),v=L(36),r=L(736),w=L(44),m=L(792),b=L(583),T=L(878),g=L(996),j=L(47);function N(i,s,h,p,f){const A=r.createMatchers(s,d),x=m.RuleFactory.getCompiledRuleId(h,p,f.repository);for(const O of A)i.push({debugSelector:s,matcher:O.matcher,ruleId:x,grammar:f,priority:O.priority})}function d(i,s){if(s.length<i.length)return!1;let h=0;return i.every(p=>{for(let f=h;f<s.length;f++)if(u(s[f],p))return h=f+1,!0;return!1})}function u(i,s){if(!i)return!1;if(i===s)return!0;const h=s.length;return i.length>h&&i.substr(0,h)===s&&i[h]==="."}a.createGrammar=function(i,s,h,p,f,A,x,O){return new c(i,s,h,p,f,A,x,O)};class c{constructor(s,h,p,f,A,x,O,G){if(this._rootScopeName=s,this.balancedBracketSelectors=x,this._onigLib=G,this._basicScopeAttributesProvider=new g.BasicScopeAttributesProvider(p,f),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=O,this._grammar=_(h,null),this._injections=null,this._tokenTypeMatchers=[],A)for(const H of Object.keys(A)){const U=r.createMatchers(H,d);for(const B of U)this._tokenTypeMatchers.push({matcher:B.matcher,type:A[H]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const s of this._ruleId2desc)s&&s.dispose()}createOnigScanner(s){return this._onigLib.createOnigScanner(s)}createOnigString(s){return this._onigLib.createOnigString(s)}getMetadataForScope(s){return this._basicScopeAttributesProvider.getBasicScopeAttributes(s)}_collectInjections(){const s=[],h=this._rootScopeName,p=(f=>f===this._rootScopeName?this._grammar:this.getExternalGrammar(f))(h);if(p){const f=p.injections;if(f)for(let x in f)N(s,x,f[x],this,p);const A=this._grammarRepository.injections(h);A&&A.forEach(x=>{const O=this.getExternalGrammar(x);if(O){const G=O.injectionSelector;G&&N(s,G,O,this,O)}})}return s.sort((f,A)=>f.priority-A.priority),s}getInjections(){if(this._injections===null&&(this._injections=this._collectInjections(),k.DebugFlags.InDebugMode&&this._injections.length>0)){console.log(`Grammar ${this._rootScopeName} contains the following injections:`);for(const s of this._injections)console.log(`  - ${s.debugSelector}`)}return this._injections}registerRule(s){const h=++this._lastRuleId,p=s(m.ruleIdFromNumber(h));return this._ruleId2desc[h]=p,p}getRule(s){return this._ruleId2desc[m.ruleIdToNumber(s)]}getExternalGrammar(s,h){if(this._includedGrammars[s])return this._includedGrammars[s];if(this._grammarRepository){const p=this._grammarRepository.lookup(s);if(p)return this._includedGrammars[s]=_(p,h&&h.$base),this._includedGrammars[s]}}tokenizeLine(s,h,p=0){const f=this._tokenize(s,h,!1,p);return{tokens:f.lineTokens.getResult(f.ruleStack,f.lineLength),ruleStack:f.ruleStack,stoppedEarly:f.stoppedEarly}}tokenizeLine2(s,h,p=0){const f=this._tokenize(s,h,!0,p);return{tokens:f.lineTokens.getBinaryResult(f.ruleStack,f.lineLength),ruleStack:f.ruleStack,stoppedEarly:f.stoppedEarly}}_tokenize(s,h,p,f){let A;if(this._rootId===-1&&(this._rootId=m.RuleFactory.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository)),h&&h!==e.NULL)A=!1,h.reset();else{A=!0;const U=this._basicScopeAttributesProvider.getDefaultAttributes(),B=this.themeProvider.getDefaults(),V=v.EncodedTokenAttributes.set(0,U.languageId,U.tokenType,null,B.fontStyle,B.foregroundId,B.backgroundId),C=this.getRule(this._rootId).getName(null,null);let q;q=C?o.createRootAndLookUpScopeName(C,V,this):o.createRoot("unknown",V),h=new e(null,this._rootId,-1,-1,!1,null,q,q)}s+=`
`;const x=this.createOnigString(s),O=x.content.length,G=new n(p,s,this._tokenTypeMatchers,this.balancedBracketSelectors),H=j._tokenizeString(this,x,A,0,h,G,!0,f);return w.disposeOnigString(x),{lineLength:O,lineTokens:G,ruleStack:H.stack,stoppedEarly:H.stoppedEarly}}}function _(i,s){return(i=T.clone(i)).repository=i.repository||{},i.repository.$self={$vscodeTextmateLocation:i.$vscodeTextmateLocation,patterns:i.patterns,name:i.scopeName},i.repository.$base=s||i.repository.$self,i}a.Grammar=c;class o{constructor(s,h,p){this.parent=s,this.scopePath=h,this.tokenAttributes=p}static createRoot(s,h){return new o(null,new b.ScopeStack(null,s),h)}static createRootAndLookUpScopeName(s,h,p){const f=p.getMetadataForScope(s),A=new b.ScopeStack(null,s),x=p.themeProvider.themeMatch(A),O=o.mergeAttributes(h,f,x);return new o(null,A,O)}get scopeName(){return this.scopePath.scopeName}equals(s){return o._equals(this,s)}static _equals(s,h){for(;;){if(s===h||!s&&!h)return!0;if(!s||!h||s.scopeName!==h.scopeName||s.tokenAttributes!==h.tokenAttributes)return!1;s=s.parent,h=h.parent}}static mergeAttributes(s,h,p){let f=-1,A=0,x=0;return p!==null&&(f=p.fontStyle,A=p.foregroundId,x=p.backgroundId),v.EncodedTokenAttributes.set(s,h.languageId,h.tokenType,null,f,A,x)}pushAttributed(s,h){if(s===null)return this;if(s.indexOf(" ")===-1)return o._pushAttributed(this,s,h);const p=s.split(/ /g);let f=this;for(const A of p)f=o._pushAttributed(f,A,h);return f}static _pushAttributed(s,h,p){const f=p.getMetadataForScope(h),A=s.scopePath.push(h),x=p.themeProvider.themeMatch(A),O=o.mergeAttributes(s.tokenAttributes,f,x);return new o(s,A,O)}getScopeNames(){return this.scopePath.getSegments()}}a.AttributedScopeStack=o;class e{constructor(s,h,p,f,A,x,O,G){this.parent=s,this.ruleId=h,this.beginRuleCapturedEOL=A,this.endRule=x,this.nameScopesList=O,this.contentNameScopesList=G,this._stackElementBrand=void 0,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=p,this._anchorPos=f}equals(s){return s!==null&&e._equals(this,s)}static _equals(s,h){return s===h||!!this._structuralEquals(s,h)&&s.contentNameScopesList.equals(h.contentNameScopesList)}static _structuralEquals(s,h){for(;;){if(s===h||!s&&!h)return!0;if(!s||!h||s.depth!==h.depth||s.ruleId!==h.ruleId||s.endRule!==h.endRule)return!1;s=s.parent,h=h.parent}}clone(){return this}static _reset(s){for(;s;)s._enterPos=-1,s._anchorPos=-1,s=s.parent}reset(){e._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(s,h,p,f,A,x,O){return new e(this,s,h,p,f,A,x,O)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(s){return s.getRule(this.ruleId)}toString(){const s=[];return this._writeString(s,0),"["+s.join(",")+"]"}_writeString(s,h){return this.parent&&(h=this.parent._writeString(s,h)),s[h++]=`(${this.ruleId}, TODO-${this.nameScopesList}, TODO-${this.contentNameScopesList})`,h}withContentNameScopesList(s){return this.contentNameScopesList===s?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,s)}withEndRule(s){return this.endRule===s?this:new e(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,s,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(s){let h=this;for(;h&&h._enterPos===s._enterPos;){if(h.ruleId===s.ruleId)return!0;h=h.parent}return!1}}a.StateStack=e,e.NULL=new e(null,0,0,0,!1,null,null,null),a.BalancedBracketSelectors=class{constructor(i,s){this.allowAny=!1,this.balancedBracketScopes=i.flatMap(h=>h==="*"?(this.allowAny=!0,[]):r.createMatchers(h,d).map(p=>p.matcher)),this.unbalancedBracketScopes=s.flatMap(h=>r.createMatchers(h,d).map(p=>p.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(i){for(const s of this.unbalancedBracketScopes)if(s(i))return!1;for(const s of this.balancedBracketScopes)if(s(i))return!0;return this.allowAny}};class n{constructor(s,h,p,f){this.balancedBracketSelectors=f,this._emitBinaryTokens=s,this._tokenTypeOverrides=p,k.DebugFlags.InDebugMode?this._lineText=h:this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(s,h){this.produceFromScopes(s.contentNameScopesList,h)}produceFromScopes(s,h){if(this._lastTokenEndIndex>=h)return;if(this._emitBinaryTokens){let f=s.tokenAttributes,A=!1;if(this.balancedBracketSelectors?.matchesAlways&&(A=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const x=s.getScopeNames();for(const O of this._tokenTypeOverrides)O.matcher(x)&&(f=v.EncodedTokenAttributes.set(f,0,v.toOptionalTokenType(O.type),null,-1,0,0));this.balancedBracketSelectors&&(A=this.balancedBracketSelectors.match(x))}if(A&&(f=v.EncodedTokenAttributes.set(f,0,8,A,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===f)return void(this._lastTokenEndIndex=h);if(k.DebugFlags.InDebugMode){const x=s.getScopeNames();console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,h).replace(/\n$/,"\\n")+"|");for(let O=0;O<x.length;O++)console.log("      * "+x[O])}return this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(f),void(this._lastTokenEndIndex=h)}const p=s.getScopeNames();if(k.DebugFlags.InDebugMode){console.log("  token: |"+this._lineText.substring(this._lastTokenEndIndex,h).replace(/\n$/,"\\n")+"|");for(let f=0;f<p.length;f++)console.log("      * "+p[f])}this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:h,scopes:p}),this._lastTokenEndIndex=h}getResult(s,h){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===h-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(s,h),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(s,h){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===h-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(s,h),this._binaryTokens[this._binaryTokens.length-2]=0);const p=new Uint32Array(this._binaryTokens.length);for(let f=0,A=this._binaryTokens.length;f<A;f++)p[f]=this._binaryTokens[f];return p}}a.LineTokens=n},965:(R,a,L)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.parseInclude=a.TopLevelRepositoryReference=a.TopLevelReference=a.RelativeReference=a.SelfReference=a.BaseReference=a.ScopeDependencyProcessor=a.ExternalReferenceCollector=a.TopLevelRepositoryRuleReference=a.TopLevelRuleReference=void 0;const k=L(878);class v{constructor(e){this.scopeName=e}toKey(){return this.scopeName}}a.TopLevelRuleReference=v;class r{constructor(e,n){this.scopeName=e,this.ruleName=n}toKey(){return`${this.scopeName}#${this.ruleName}`}}a.TopLevelRepositoryRuleReference=r;class w{constructor(){this._references=[],this._seenReferenceKeys=new Set,this.visitedRule=new Set}get references(){return this._references}add(e){const n=e.toKey();this._seenReferenceKeys.has(n)||(this._seenReferenceKeys.add(n),this._references.push(e))}}function m(o,e,n,i){const s=n.lookup(o.scopeName);if(!s){if(o.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const h=n.lookup(e);o instanceof v?T({baseGrammar:h,selfGrammar:s},i):b(o.ruleName,{baseGrammar:h,selfGrammar:s,repository:s.repository},i);const p=n.injections(o.scopeName);if(p)for(const f of p)i.add(new v(f))}function b(o,e,n){e.repository&&e.repository[o]&&g([e.repository[o]],e,n)}function T(o,e){o.selfGrammar.patterns&&Array.isArray(o.selfGrammar.patterns)&&g(o.selfGrammar.patterns,{...o,repository:o.selfGrammar.repository},e),o.selfGrammar.injections&&g(Object.values(o.selfGrammar.injections),{...o,repository:o.selfGrammar.repository},e)}function g(o,e,n){for(const i of o){if(n.visitedRule.has(i))continue;n.visitedRule.add(i);const s=i.repository?k.mergeObjects({},e.repository,i.repository):e.repository;Array.isArray(i.patterns)&&g(i.patterns,{...e,repository:s},n);const h=i.include;if(!h)continue;const p=_(h);switch(p.kind){case 0:T({...e,selfGrammar:e.baseGrammar},n);break;case 1:T(e,n);break;case 2:b(p.ruleName,{...e,repository:s},n);break;case 3:case 4:const f=p.scopeName===e.selfGrammar.scopeName?e.selfGrammar:p.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(f){const A={baseGrammar:e.baseGrammar,selfGrammar:f,repository:s};p.kind===4?b(p.ruleName,A,n):T(A,n)}else p.kind===4?n.add(new r(p.scopeName,p.ruleName)):n.add(new v(p.scopeName))}}}a.ExternalReferenceCollector=w,a.ScopeDependencyProcessor=class{constructor(o,e){this.repo=o,this.initialScopeName=e,this.seenFullScopeRequests=new Set,this.seenPartialScopeRequests=new Set,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new v(this.initialScopeName)]}processQueue(){const o=this.Q;this.Q=[];const e=new w;for(const n of o)m(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof v){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};class j{constructor(){this.kind=0}}a.BaseReference=j;class N{constructor(){this.kind=1}}a.SelfReference=N;class d{constructor(e){this.ruleName=e,this.kind=2}}a.RelativeReference=d;class u{constructor(e){this.scopeName=e,this.kind=3}}a.TopLevelReference=u;class c{constructor(e,n){this.scopeName=e,this.ruleName=n,this.kind=4}}function _(o){if(o==="$base")return new j;if(o==="$self")return new N;const e=o.indexOf("#");if(e===-1)return new u(o);if(e===0)return new d(o.substring(1));{const n=o.substring(0,e),i=o.substring(e+1);return new c(n,i)}}a.TopLevelRepositoryReference=c,a.parseInclude=_},391:function(R,a,L){var k=this&&this.__createBinding||(Object.create?function(r,w,m,b){b===void 0&&(b=m),Object.defineProperty(r,b,{enumerable:!0,get:function(){return w[m]}})}:function(r,w,m,b){b===void 0&&(b=m),r[b]=w[m]}),v=this&&this.__exportStar||function(r,w){for(var m in r)m==="default"||Object.prototype.hasOwnProperty.call(w,m)||k(w,r,m)};Object.defineProperty(a,"__esModule",{value:!0}),v(L(947),a)},47:(R,a,L)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.LocalStackElement=a._tokenizeString=void 0;const k=L(350),v=L(44),r=L(792),w=L(878);class m{constructor(c,_){this.stack=c,this.stoppedEarly=_}}function b(u,c,_,o,e,n,i,s){const h=c.content.length;let p=!1,f=-1;if(i){const O=function(G,H,U,B,V,C){let q=V.beginRuleCapturedEOL?0:-1;const F=[];for(let M=V;M;M=M.pop()){const D=M.getRule(G);D instanceof r.BeginWhileRule&&F.push({rule:D,stack:M})}for(let M=F.pop();M;M=F.pop()){const{ruleScanner:D,findOptions:J}=g(M.rule,G,M.stack.endRule,U,B===q),P=D.findNextMatchSync(H,B,J);if(k.DebugFlags.InDebugMode&&(console.log("  scanning for while rule"),console.log(D.toString())),!P){k.DebugFlags.InDebugMode&&console.log("  popping "+M.rule.debugName+" - "+M.rule.debugWhileRegExp),V=M.stack.pop();break}if(P.ruleId!==r.whileRuleId){V=M.stack.pop();break}P.captureIndices&&P.captureIndices.length&&(C.produce(M.stack,P.captureIndices[0].start),N(G,H,U,M.stack,C,M.rule.whileCaptures,P.captureIndices),C.produce(M.stack,P.captureIndices[0].end),q=P.captureIndices[0].end,P.captureIndices[0].end>B&&(B=P.captureIndices[0].end,U=!1))}return{stack:V,linePos:B,anchorPosition:q,isFirstLine:U}}(u,c,_,o,e,n);e=O.stack,o=O.linePos,_=O.isFirstLine,f=O.anchorPosition}const A=Date.now();for(;!p;){if(s!==0&&Date.now()-A>s)return new m(e,!0);x()}return new m(e,!1);function x(){k.DebugFlags.InDebugMode&&(console.log(""),console.log(`@@scanNext ${o}: |${c.content.substr(o).replace(/\n$/,"\\n")}|`));const O=function(B,V,C,q,F,M){const D=function(ee,ae,fe,ne,se,ue){const ie=se.getRule(ee),{ruleScanner:oe,findOptions:ce}=T(ie,ee,se.endRule,fe,ne===ue);let re=0;k.DebugFlags.InDebugMode&&(re=w.performanceNow());const Z=oe.findNextMatchSync(ae,ne,ce);if(k.DebugFlags.InDebugMode){const le=w.performanceNow()-re;le>5&&console.warn(`Rule ${ie.debugName} (${ie.id}) matching took ${le} against '${ae}'`),console.log(`  scanning for (linePos: ${ne}, anchorPosition: ${ue})`),console.log(oe.toString()),Z&&console.log(`matched rule id: ${Z.ruleId} from ${Z.captureIndices[0].start} to ${Z.captureIndices[0].end}`)}return Z?{captureIndices:Z.captureIndices,matchedRuleId:Z.ruleId}:null}(B,V,C,q,F,M),J=B.getInjections();if(J.length===0)return D;const P=function(ee,ae,fe,ne,se,ue,ie){let oe,ce=Number.MAX_VALUE,re=null,Z=0;const le=ue.contentNameScopesList.getScopeNames();for(let pe=0,I=ee.length;pe<I;pe++){const E=ee[pe];if(!E.matcher(le))continue;const X=ae.getRule(E.ruleId),{ruleScanner:te,findOptions:z}=T(X,ae,null,ne,se===ie),W=te.findNextMatchSync(fe,se,z);if(!W)continue;k.DebugFlags.InDebugMode&&(console.log(`  matched injection: ${E.debugSelector}`),console.log(te.toString()));const Y=W.captureIndices[0].start;if(!(Y>=ce)&&(ce=Y,re=W.captureIndices,oe=W.ruleId,Z=E.priority,ce===se))break}return re?{priorityMatch:Z===-1,captureIndices:re,matchedRuleId:oe}:null}(J,B,V,C,q,F,M);if(!P)return D;if(!D)return P;const Q=D.captureIndices[0].start,$=P.captureIndices[0].start;return $<Q||P.priorityMatch&&$===Q?P:D}(u,c,_,o,e,f);if(!O)return k.DebugFlags.InDebugMode&&console.log("  no more matches."),n.produce(e,h),void(p=!0);const G=O.captureIndices,H=O.matchedRuleId,U=!!(G&&G.length>0)&&G[0].end>o;if(H===r.endRuleId){const B=e.getRule(u);k.DebugFlags.InDebugMode&&console.log("  popping "+B.debugName+" - "+B.debugEndRegExp),n.produce(e,G[0].start),e=e.withContentNameScopesList(e.nameScopesList),N(u,c,_,e,n,B.endCaptures,G),n.produce(e,G[0].end);const V=e;if(e=e.parent,f=V.getAnchorPos(),!U&&V.getEnterPos()===o)return k.DebugFlags.InDebugMode&&console.error("[1] - Grammar is in an endless loop - Grammar pushed & popped a rule without advancing"),e=V,n.produce(e,h),void(p=!0)}else{const B=u.getRule(H);n.produce(e,G[0].start);const V=e,C=B.getName(c.content,G),q=e.contentNameScopesList.pushAttributed(C,u);if(e=e.push(H,o,f,G[0].end===h,null,q,q),B instanceof r.BeginEndRule){const F=B;k.DebugFlags.InDebugMode&&console.log("  pushing "+F.debugName+" - "+F.debugBeginRegExp),N(u,c,_,e,n,F.beginCaptures,G),n.produce(e,G[0].end),f=G[0].end;const M=F.getContentName(c.content,G),D=q.pushAttributed(M,u);if(e=e.withContentNameScopesList(D),F.endHasBackReferences&&(e=e.withEndRule(F.getEndWithResolvedBackReferences(c.content,G))),!U&&V.hasSameRuleAs(e))return k.DebugFlags.InDebugMode&&console.error("[2] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),e=e.pop(),n.produce(e,h),void(p=!0)}else if(B instanceof r.BeginWhileRule){const F=B;k.DebugFlags.InDebugMode&&console.log("  pushing "+F.debugName),N(u,c,_,e,n,F.beginCaptures,G),n.produce(e,G[0].end),f=G[0].end;const M=F.getContentName(c.content,G),D=q.pushAttributed(M,u);if(e=e.withContentNameScopesList(D),F.whileHasBackReferences&&(e=e.withEndRule(F.getWhileWithResolvedBackReferences(c.content,G))),!U&&V.hasSameRuleAs(e))return k.DebugFlags.InDebugMode&&console.error("[3] - Grammar is in an endless loop - Grammar pushed the same rule without advancing"),e=e.pop(),n.produce(e,h),void(p=!0)}else{const F=B;if(k.DebugFlags.InDebugMode&&console.log("  matched "+F.debugName+" - "+F.debugMatchRegExp),N(u,c,_,e,n,F.captures,G),n.produce(e,G[0].end),e=e.pop(),!U)return k.DebugFlags.InDebugMode&&console.error("[4] - Grammar is in an endless loop - Grammar is not advancing, nor is it pushing/popping"),e=e.safePop(),n.produce(e,h),void(p=!0)}}G[0].end>o&&(o=G[0].end,_=!1)}}function T(u,c,_,o,e){return k.UseOnigurumaFindOptions?{ruleScanner:u.compile(c,_),findOptions:j(o,e)}:{ruleScanner:u.compileAG(c,_,o,e),findOptions:0}}function g(u,c,_,o,e){return k.UseOnigurumaFindOptions?{ruleScanner:u.compileWhile(c,_),findOptions:j(o,e)}:{ruleScanner:u.compileWhileAG(c,_,o,e),findOptions:0}}function j(u,c){let _=0;return u||(_|=1),c||(_|=4),_}function N(u,c,_,o,e,n,i){if(n.length===0)return;const s=c.content,h=Math.min(n.length,i.length),p=[],f=i[0].end;for(let A=0;A<h;A++){const x=n[A];if(x===null)continue;const O=i[A];if(O.length===0)continue;if(O.start>f)break;for(;p.length>0&&p[p.length-1].endPos<=O.start;)e.produceFromScopes(p[p.length-1].scopes,p[p.length-1].endPos),p.pop();if(p.length>0?e.produceFromScopes(p[p.length-1].scopes,O.start):e.produce(o,O.start),x.retokenizeCapturedWithRuleId){const H=x.getName(s,i),U=o.contentNameScopesList.pushAttributed(H,u),B=x.getContentName(s,i),V=U.pushAttributed(B,u),C=o.push(x.retokenizeCapturedWithRuleId,O.start,-1,!1,null,U,V),q=u.createOnigString(s.substring(0,O.end));b(u,q,_&&O.start===0,O.start,C,e,!1,0),v.disposeOnigString(q);continue}const G=x.getName(s,i);if(G!==null){const H=(p.length>0?p[p.length-1].scopes:o.contentNameScopesList).pushAttributed(G,u);p.push(new d(H,O.end))}}for(;p.length>0;)e.produceFromScopes(p[p.length-1].scopes,p[p.length-1].endPos),p.pop()}a._tokenizeString=b;class d{constructor(c,_){this.scopes=c,this.endPos=_}}a.LocalStackElement=d},974:(R,a)=>{function L(w,m){throw new Error("Near offset "+w.pos+": "+m+" ~~~"+w.source.substr(w.pos,50)+"~~~")}Object.defineProperty(a,"__esModule",{value:!0}),a.parseJSON=void 0,a.parseJSON=function(w,m,b){let T=new k(w),g=new v,j=0,N=null,d=[],u=[];function c(){d.push(j),u.push(N)}function _(){j=d.pop(),N=u.pop()}function o(e){L(T,e)}for(;r(T,g);){if(j===0){if(N!==null&&o("too many constructs in root"),g.type===3){N={},b&&(N.$vscodeTextmateLocation=g.toLocation(m)),c(),j=1;continue}if(g.type===2){N=[],c(),j=4;continue}o("unexpected token in root")}if(j===2){if(g.type===5){_();continue}if(g.type===7){j=3;continue}o("expected , or }")}if(j===1||j===3){if(j===1&&g.type===5){_();continue}if(g.type===1){let e=g.value;if(r(T,g)&&g.type===6||o("expected colon"),r(T,g)||o("expected value"),j=2,g.type===1){N[e]=g.value;continue}if(g.type===8){N[e]=null;continue}if(g.type===9){N[e]=!0;continue}if(g.type===10){N[e]=!1;continue}if(g.type===11){N[e]=parseFloat(g.value);continue}if(g.type===2){let n=[];N[e]=n,c(),j=4,N=n;continue}if(g.type===3){let n={};b&&(n.$vscodeTextmateLocation=g.toLocation(m)),N[e]=n,c(),j=1,N=n;continue}}o("unexpected token in dict")}if(j===5){if(g.type===4){_();continue}if(g.type===7){j=6;continue}o("expected , or ]")}if(j===4||j===6){if(j===4&&g.type===4){_();continue}if(j=5,g.type===1){N.push(g.value);continue}if(g.type===8){N.push(null);continue}if(g.type===9){N.push(!0);continue}if(g.type===10){N.push(!1);continue}if(g.type===11){N.push(parseFloat(g.value));continue}if(g.type===2){let e=[];N.push(e),c(),j=4,N=e;continue}if(g.type===3){let e={};b&&(e.$vscodeTextmateLocation=g.toLocation(m)),N.push(e),c(),j=1,N=e;continue}o("unexpected token in array")}o("unknown state")}return u.length!==0&&o("unclosed constructs"),N};class k{constructor(m){this.source=m,this.pos=0,this.len=m.length,this.line=1,this.char=0}}class v{constructor(){this.value=null,this.type=0,this.offset=-1,this.len=-1,this.line=-1,this.char=-1}toLocation(m){return{filename:m,line:this.line,char:this.char}}}function r(w,m){m.value=null,m.type=0,m.offset=-1,m.len=-1,m.line=-1,m.char=-1;let b,T=w.source,g=w.pos,j=w.len,N=w.line,d=w.char;for(;;){if(g>=j)return!1;if(b=T.charCodeAt(g),b!==32&&b!==9&&b!==13){if(b!==10)break;g++,N++,d=0}else g++,d++}if(m.offset=g,m.line=N,m.char=d,b===34){for(m.type=1,g++,d++;;){if(g>=j)return!1;if(b=T.charCodeAt(g),g++,d++,b!==92){if(b===34)break}else g++,d++}m.value=T.substring(m.offset+1,g-1).replace(/\\u([0-9A-Fa-f]{4})/g,(u,c)=>String.fromCodePoint(parseInt(c,16))).replace(/\\(.)/g,(u,c)=>{switch(c){case'"':return'"';case"\\":return"\\";case"/":return"/";case"b":return"\b";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";default:L(w,"invalid escape sequence")}throw new Error("unreachable")})}else if(b===91)m.type=2,g++,d++;else if(b===123)m.type=3,g++,d++;else if(b===93)m.type=4,g++,d++;else if(b===125)m.type=5,g++,d++;else if(b===58)m.type=6,g++,d++;else if(b===44)m.type=7,g++,d++;else if(b===110){if(m.type=8,g++,d++,b=T.charCodeAt(g),b!==117||(g++,d++,b=T.charCodeAt(g),b!==108)||(g++,d++,b=T.charCodeAt(g),b!==108))return!1;g++,d++}else if(b===116){if(m.type=9,g++,d++,b=T.charCodeAt(g),b!==114||(g++,d++,b=T.charCodeAt(g),b!==117)||(g++,d++,b=T.charCodeAt(g),b!==101))return!1;g++,d++}else if(b===102){if(m.type=10,g++,d++,b=T.charCodeAt(g),b!==97||(g++,d++,b=T.charCodeAt(g),b!==108)||(g++,d++,b=T.charCodeAt(g),b!==115)||(g++,d++,b=T.charCodeAt(g),b!==101))return!1;g++,d++}else for(m.type=11;;){if(g>=j)return!1;if(b=T.charCodeAt(g),!(b===46||b>=48&&b<=57||b===101||b===69||b===45||b===43))break;g++,d++}return m.len=g-m.offset,m.value===null&&(m.value=T.substr(m.offset,m.len)),w.pos=g,w.line=N,w.char=d,!0}},787:function(R,a,L){var k=this&&this.__createBinding||(Object.create?function(g,j,N,d){d===void 0&&(d=N),Object.defineProperty(g,d,{enumerable:!0,get:function(){return j[N]}})}:function(g,j,N,d){d===void 0&&(d=N),g[d]=j[N]}),v=this&&this.__exportStar||function(g,j){for(var N in g)N==="default"||Object.prototype.hasOwnProperty.call(j,N)||k(j,g,N)};Object.defineProperty(a,"__esModule",{value:!0}),a.parseRawGrammar=a.INITIAL=a.Registry=void 0;const r=L(391),w=L(50),m=L(652),b=L(583),T=L(965);v(L(44),a),a.Registry=class{constructor(g){this._options=g,this._syncRegistry=new m.SyncRegistry(b.Theme.createFromRawTheme(g.theme,g.colorMap),g.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(g,j){this._syncRegistry.setTheme(b.Theme.createFromRawTheme(g,j))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(g,j,N){return this.loadGrammarWithConfiguration(g,j,{embeddedLanguages:N})}loadGrammarWithConfiguration(g,j,N){return this._loadGrammar(g,j,N.embeddedLanguages,N.tokenTypes,new r.BalancedBracketSelectors(N.balancedBracketSelectors||[],N.unbalancedBracketSelectors||[]))}loadGrammar(g){return this._loadGrammar(g,0,null,null,null)}async _loadGrammar(g,j,N,d,u){const c=new T.ScopeDependencyProcessor(this._syncRegistry,g);for(;c.Q.length>0;)await Promise.all(c.Q.map(_=>this._loadSingleGrammar(_.scopeName))),c.processQueue();return this._grammarForScopeName(g,j,N,d,u)}async _loadSingleGrammar(g){return this._ensureGrammarCache.has(g)||this._ensureGrammarCache.set(g,this._doLoadSingleGrammar(g)),this._ensureGrammarCache.get(g)}async _doLoadSingleGrammar(g){const j=await this._options.loadGrammar(g);if(j){const N=typeof this._options.getInjections=="function"?this._options.getInjections(g):void 0;this._syncRegistry.addGrammar(j,N)}}async addGrammar(g,j=[],N=0,d=null){return this._syncRegistry.addGrammar(g,j),await this._grammarForScopeName(g.scopeName,N,d)}_grammarForScopeName(g,j=0,N=null,d=null,u=null){return this._syncRegistry.grammarForScopeName(g,j,N,d,u)}},a.INITIAL=r.StateStack.NULL,a.parseRawGrammar=w.parseRawGrammar},736:(R,a)=>{function L(k){return!!k&&!!k.match(/[\w\.:]+/)}Object.defineProperty(a,"__esModule",{value:!0}),a.createMatchers=void 0,a.createMatchers=function(k,v){const r=[],w=function(g){let j=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,N=j.exec(g);return{next:()=>{if(!N)return null;const d=N[0];return N=j.exec(g),d}}}(k);let m=w.next();for(;m!==null;){let g=0;if(m.length===2&&m.charAt(1)===":"){switch(m.charAt(0)){case"R":g=1;break;case"L":g=-1;break;default:console.log(`Unknown priority ${m} in scope selector`)}m=w.next()}let j=T();if(r.push({matcher:j,priority:g}),m!==",")break;m=w.next()}return r;function b(){if(m==="-"){m=w.next();const g=b();return j=>!!g&&!g(j)}if(m==="("){m=w.next();const g=function(){const j=[];let N=T();for(;N&&(j.push(N),m==="|"||m===",");){do m=w.next();while(m==="|"||m===",");N=T()}return d=>j.some(u=>u(d))}();return m===")"&&(m=w.next()),g}if(L(m)){const g=[];do g.push(m),m=w.next();while(L(m));return j=>v(g,j)}return null}function T(){const g=[];let j=b();for(;j;)g.push(j),j=b();return N=>g.every(d=>d(N))}}},44:(R,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.disposeOnigString=void 0,a.disposeOnigString=function(L){typeof L.dispose=="function"&&L.dispose()}},50:(R,a,L)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.parseRawGrammar=void 0;const k=L(69),v=L(350),r=L(974);a.parseRawGrammar=function(w,m=null){return m!==null&&/\.json$/.test(m)?(b=w,T=m,v.DebugFlags.InDebugMode?r.parseJSON(b,T,!0):JSON.parse(b)):function(g,j){return v.DebugFlags.InDebugMode?k.parseWithLocation(g,j,"$vscodeTextmateLocation"):k.parsePLIST(g)}(w,m);var b,T}},69:(R,a)=>{function L(k,v,r){const w=k.length;let m=0,b=1,T=0;function g(P){if(r===null)m+=P;else for(;P>0;)k.charCodeAt(m)===10?(m++,b++,T=0):(m++,T++),P--}function j(P){r===null?m=P:g(P-m)}function N(){for(;m<w;){let P=k.charCodeAt(m);if(P!==32&&P!==9&&P!==13&&P!==10)break;g(1)}}function d(P){return k.substr(m,P.length)===P&&(g(P.length),!0)}function u(P){let Q=k.indexOf(P,m);j(Q!==-1?Q+P.length:w)}function c(P){let Q=k.indexOf(P,m);if(Q!==-1){let $=k.substring(m,Q);return j(Q+P.length),$}{let $=k.substr(m);return j(w),$}}w>0&&k.charCodeAt(0)===65279&&(m=1);let _=0,o=null,e=[],n=[],i=null;function s(P,Q){e.push(_),n.push(o),_=P,o=Q}function h(){if(e.length===0)return p("illegal state stack");_=e.pop(),o=n.pop()}function p(P){throw new Error("Near offset "+m+": "+P+" ~~~"+k.substr(m,50)+"~~~")}const f=function(){if(i===null)return p("missing <key>");let P={};r!==null&&(P[r]={filename:v,line:b,char:T}),o[i]=P,i=null,s(1,P)},A=function(){if(i===null)return p("missing <key>");let P=[];o[i]=P,i=null,s(2,P)},x=function(){let P={};r!==null&&(P[r]={filename:v,line:b,char:T}),o.push(P),s(1,P)},O=function(){let P=[];o.push(P),s(2,P)};function G(){if(_!==1)return p("unexpected </dict>");h()}function H(){return _===1||_!==2?p("unexpected </array>"):void h()}function U(P){if(_===1){if(i===null)return p("missing <key>");o[i]=P,i=null}else _===2?o.push(P):o=P}function B(P){if(isNaN(P))return p("cannot parse float");if(_===1){if(i===null)return p("missing <key>");o[i]=P,i=null}else _===2?o.push(P):o=P}function V(P){if(isNaN(P))return p("cannot parse integer");if(_===1){if(i===null)return p("missing <key>");o[i]=P,i=null}else _===2?o.push(P):o=P}function C(P){if(_===1){if(i===null)return p("missing <key>");o[i]=P,i=null}else _===2?o.push(P):o=P}function q(P){if(_===1){if(i===null)return p("missing <key>");o[i]=P,i=null}else _===2?o.push(P):o=P}function F(P){if(_===1){if(i===null)return p("missing <key>");o[i]=P,i=null}else _===2?o.push(P):o=P}function M(){let P=c(">"),Q=!1;return P.charCodeAt(P.length-1)===47&&(Q=!0,P=P.substring(0,P.length-1)),{name:P.trim(),isClosed:Q}}function D(P){if(P.isClosed)return"";let Q=c("</");return u(">"),Q.replace(/&#([0-9]+);/g,function($,ee){return String.fromCodePoint(parseInt(ee,10))}).replace(/&#x([0-9a-f]+);/g,function($,ee){return String.fromCodePoint(parseInt(ee,16))}).replace(/&amp;|&lt;|&gt;|&quot;|&apos;/g,function($){switch($){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&apos;":return"'"}return $})}for(;m<w&&(N(),!(m>=w));){const P=k.charCodeAt(m);if(g(1),P!==60)return p("expected <");if(m>=w)return p("unexpected end of input");const Q=k.charCodeAt(m);if(Q===63){g(1),u("?>");continue}if(Q===33){if(g(1),d("--")){u("-->");continue}u(">");continue}if(Q===47){if(g(1),N(),d("plist")){u(">");continue}if(d("dict")){u(">"),G();continue}if(d("array")){u(">"),H();continue}return p("unexpected closed tag")}let $=M();switch($.name){case"dict":_===1?f():_===2?x():(o={},r!==null&&(o[r]={filename:v,line:b,char:T}),s(1,o)),$.isClosed&&G();continue;case"array":_===1?A():_===2?O():(o=[],s(2,o)),$.isClosed&&H();continue;case"key":J=D($),_!==1?p("unexpected <key>"):i!==null?p("too many <key>"):i=J;continue;case"string":U(D($));continue;case"real":B(parseFloat(D($)));continue;case"integer":V(parseInt(D($),10));continue;case"date":C(new Date(D($)));continue;case"data":q(D($));continue;case"true":D($),F(!0);continue;case"false":D($),F(!1);continue}if(!/^plist/.test($.name))return p("unexpected opened tag "+$.name)}var J;return o}Object.defineProperty(a,"__esModule",{value:!0}),a.parsePLIST=a.parseWithLocation=void 0,a.parseWithLocation=function(k,v,r){return L(k,v,r)},a.parsePLIST=function(k){return L(k,null,null)}},652:(R,a,L)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SyncRegistry=void 0;const k=L(391);a.SyncRegistry=class{constructor(v,r){this._onigLibPromise=r,this._grammars=new Map,this._rawGrammars=new Map,this._injectionGrammars=new Map,this._theme=v}dispose(){for(const v of this._grammars.values())v.dispose()}setTheme(v){this._theme=v}getColorMap(){return this._theme.getColorMap()}addGrammar(v,r){this._rawGrammars.set(v.scopeName,v),r&&this._injectionGrammars.set(v.scopeName,r)}lookup(v){return this._rawGrammars.get(v)}injections(v){return this._injectionGrammars.get(v)}getDefaults(){return this._theme.getDefaults()}themeMatch(v){return this._theme.match(v)}async grammarForScopeName(v,r,w,m,b){if(!this._grammars.has(v)){let T=this._rawGrammars.get(v);if(!T)return null;this._grammars.set(v,k.createGrammar(v,T,r,w,m,b,this,await this._onigLibPromise))}return this._grammars.get(v)}}},792:(R,a,L)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CompiledRule=a.RegExpSourceList=a.RegExpSource=a.RuleFactory=a.BeginWhileRule=a.BeginEndRule=a.IncludeOnlyRule=a.MatchRule=a.CaptureRule=a.Rule=a.ruleIdToNumber=a.ruleIdFromNumber=a.whileRuleId=a.endRuleId=void 0;const k=L(878),v=L(965),r=/\\(\d+)/,w=/\\(\d+)/g;a.endRuleId=-1,a.whileRuleId=-2,a.ruleIdFromNumber=function(o){return o},a.ruleIdToNumber=function(o){return o};class m{constructor(e,n,i,s){this.$location=e,this.id=n,this._name=i||null,this._nameIsCapturing=k.RegexSource.hasCaptures(this._name),this._contentName=s||null,this._contentNameIsCapturing=k.RegexSource.hasCaptures(this._contentName)}get debugName(){const e=this.$location?`${k.basename(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${e}`}getName(e,n){return this._nameIsCapturing&&this._name!==null&&e!==null&&n!==null?k.RegexSource.replaceCaptures(this._name,e,n):this._name}getContentName(e,n){return this._contentNameIsCapturing&&this._contentName!==null?k.RegexSource.replaceCaptures(this._contentName,e,n):this._contentName}}a.Rule=m;class b extends m{constructor(e,n,i,s,h){super(e,n,i,s),this.retokenizeCapturedWithRuleId=h}dispose(){}collectPatterns(e,n){throw new Error("Not supported!")}compile(e,n){throw new Error("Not supported!")}compileAG(e,n,i,s){throw new Error("Not supported!")}}a.CaptureRule=b;class T extends m{constructor(e,n,i,s,h){super(e,n,i,null),this._match=new u(s,this.id),this.captures=h,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,n){n.push(this._match)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,i,s){return this._getCachedCompiledPatterns(e).compileAG(e,i,s)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new c,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}a.MatchRule=T;class g extends m{constructor(e,n,i,s,h){super(e,n,i,s),this.patterns=h.patterns,this.hasMissingPatterns=h.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,n){for(const i of this.patterns)e.getRule(i).collectPatterns(e,n)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,i,s){return this._getCachedCompiledPatterns(e).compileAG(e,i,s)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new c,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}}a.IncludeOnlyRule=g;class j extends m{constructor(e,n,i,s,h,p,f,A,x,O){super(e,n,i,s),this._begin=new u(h,this.id),this.beginCaptures=p,this._end=new u(f||"",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=A,this.applyEndPatternLast=x||!1,this.patterns=O.patterns,this.hasMissingPatterns=O.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,n){return this._end.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e,n).compile(e)}compileAG(e,n,i,s){return this._getCachedCompiledPatterns(e,n).compileAG(e,i,s)}_getCachedCompiledPatterns(e,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new c;for(const i of this.patterns)e.getRule(i).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}}a.BeginEndRule=j;class N extends m{constructor(e,n,i,s,h,p,f,A,x){super(e,n,i,s),this._begin=new u(h,this.id),this.beginCaptures=p,this.whileCaptures=A,this._while=new u(f,a.whileRuleId),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=x.patterns,this.hasMissingPatterns=x.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,n){return this._while.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,i,s){return this._getCachedCompiledPatterns(e).compileAG(e,i,s)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new c;for(const n of this.patterns)e.getRule(n).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,n){return this._getCachedCompiledWhilePatterns(e,n).compile(e)}compileWhileAG(e,n,i,s){return this._getCachedCompiledWhilePatterns(e,n).compileAG(e,i,s)}_getCachedCompiledWhilePatterns(e,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new c,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||""),this._cachedCompiledWhilePatterns}}a.BeginWhileRule=N;class d{static createCaptureRule(e,n,i,s,h){return e.registerRule(p=>new b(n,p,i,s,h))}static getCompiledRuleId(e,n,i){return e.id||n.registerRule(s=>{if(e.id=s,e.match)return new T(e.$vscodeTextmateLocation,e.id,e.name,e.match,d._compileCaptures(e.captures,n,i));if(e.begin===void 0){e.repository&&(i=k.mergeObjects({},i,e.repository));let h=e.patterns;return h===void 0&&e.include&&(h=[{include:e.include}]),new g(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,d._compilePatterns(h,n,i))}return e.while?new N(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,d._compileCaptures(e.beginCaptures||e.captures,n,i),e.while,d._compileCaptures(e.whileCaptures||e.captures,n,i),d._compilePatterns(e.patterns,n,i)):new j(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,d._compileCaptures(e.beginCaptures||e.captures,n,i),e.end,d._compileCaptures(e.endCaptures||e.captures,n,i),e.applyEndPatternLast,d._compilePatterns(e.patterns,n,i))}),e.id}static _compileCaptures(e,n,i){let s=[];if(e){let h=0;for(const p in e){if(p==="$vscodeTextmateLocation")continue;const f=parseInt(p,10);f>h&&(h=f)}for(let p=0;p<=h;p++)s[p]=null;for(const p in e){if(p==="$vscodeTextmateLocation")continue;const f=parseInt(p,10);let A=0;e[p].patterns&&(A=d.getCompiledRuleId(e[p],n,i)),s[f]=d.createCaptureRule(n,e[p].$vscodeTextmateLocation,e[p].name,e[p].contentName,A)}}return s}static _compilePatterns(e,n,i){let s=[];if(e)for(let h=0,p=e.length;h<p;h++){const f=e[h];let A=-1;if(f.include){const x=v.parseInclude(f.include);switch(x.kind){case 0:case 1:A=d.getCompiledRuleId(i[f.include],n,i);break;case 2:let O=i[x.ruleName];O&&(A=d.getCompiledRuleId(O,n,i));break;case 3:case 4:const G=x.scopeName,H=x.kind===4?x.ruleName:null,U=n.getExternalGrammar(G,i);if(U)if(H){let B=U.repository[H];B&&(A=d.getCompiledRuleId(B,n,U.repository))}else A=d.getCompiledRuleId(U.repository.$self,n,U.repository)}}else A=d.getCompiledRuleId(f,n,i);if(A!==-1){const x=n.getRule(A);let O=!1;if((x instanceof g||x instanceof j||x instanceof N)&&x.hasMissingPatterns&&x.patterns.length===0&&(O=!0),O)continue;s.push(A)}}return{patterns:s,hasMissingPatterns:(e?e.length:0)!==s.length}}}a.RuleFactory=d;class u{constructor(e,n){if(e){const i=e.length;let s=0,h=[],p=!1;for(let f=0;f<i;f++)if(e.charAt(f)==="\\"&&f+1<i){const A=e.charAt(f+1);A==="z"?(h.push(e.substring(s,f)),h.push("$(?!\\n)(?<!\\n)"),s=f+2):A!=="A"&&A!=="G"||(p=!0),f++}this.hasAnchor=p,s===0?this.source=e:(h.push(e.substring(s,i)),this.source=h.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,this.hasBackReferences=r.test(this.source)}clone(){return new u(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){let i=n.map(s=>e.substring(s.start,s.end));return w.lastIndex=0,this.source.replace(w,(s,h)=>k.escapeRegExpCharacters(i[parseInt(h,10)]||""))}_buildAnchorCache(){let e,n,i,s,h=[],p=[],f=[],A=[];for(e=0,n=this.source.length;e<n;e++)i=this.source.charAt(e),h[e]=i,p[e]=i,f[e]=i,A[e]=i,i==="\\"&&e+1<n&&(s=this.source.charAt(e+1),s==="A"?(h[e+1]="",p[e+1]="",f[e+1]="A",A[e+1]="A"):s==="G"?(h[e+1]="",p[e+1]="G",f[e+1]="",A[e+1]="G"):(h[e+1]=s,p[e+1]=s,f[e+1]=s,A[e+1]=s),e++);return{A0_G0:h.join(""),A0_G1:p.join(""),A1_G0:f.join(""),A1_G1:A.join("")}}resolveAnchors(e,n){return this.hasAnchor&&this._anchorCache?e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0:this.source}}a.RegExpSource=u;class c{constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(e){this._items.push(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}unshift(e){this._items.unshift(e),this._hasAnchors=this._hasAnchors||e.hasAnchor}length(){return this._items.length}setSource(e,n){this._items[e].source!==n&&(this._disposeCaches(),this._items[e].setSource(n))}compile(e){if(!this._cached){let n=this._items.map(i=>i.source);this._cached=new _(e,n,this._items.map(i=>i.ruleId))}return this._cached}compileAG(e,n,i){return this._hasAnchors?n?i?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(e,n,i)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(e,n,i)),this._anchorCache.A1_G0):i?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(e,n,i)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(e,n,i)),this._anchorCache.A0_G0):this.compile(e)}_resolveAnchors(e,n,i){let s=this._items.map(h=>h.resolveAnchors(n,i));return new _(e,s,this._items.map(h=>h.ruleId))}}a.RegExpSourceList=c;class _{constructor(e,n,i){this.regExps=n,this.rules=i,this.scanner=e.createOnigScanner(n)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const e=[];for(let n=0,i=this.rules.length;n<i;n++)e.push("   - "+this.rules[n]+": "+this.regExps[n]);return e.join(`
`)}findNextMatchSync(e,n,i){const s=this.scanner.findNextMatchSync(e,n,i);return s?{ruleId:this.rules[s.index],captureIndices:s.captureIndices}:null}}a.CompiledRule=_},583:(R,a,L)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeTrieElement=a.ThemeTrieElementRule=a.ColorMap=a.fontStyleToString=a.ParsedThemeRule=a.parseTheme=a.StyleAttributes=a.ScopeStack=a.Theme=void 0;const k=L(878);class v{constructor(u,c,_){this._colorMap=u,this._defaults=c,this._root=_,this._cachedMatchRoot=new k.CachedFn(o=>this._root.match(o))}static createFromRawTheme(u,c){return this.createFromParsedTheme(b(u),c)}static createFromParsedTheme(u,c){return function(_,o){_.sort((f,A)=>{let x=k.strcmp(f.scope,A.scope);return x!==0?x:(x=k.strArrCmp(f.parentScopes,A.parentScopes),x!==0?x:f.index-A.index)});let e=0,n="#000000",i="#ffffff";for(;_.length>=1&&_[0].scope==="";){let f=_.shift();f.fontStyle!==-1&&(e=f.fontStyle),f.foreground!==null&&(n=f.foreground),f.background!==null&&(i=f.background)}let s=new g(o),h=new m(e,s.getId(n),s.getId(i)),p=new N(new j(0,null,-1,0,0),[]);for(let f=0,A=_.length;f<A;f++){let x=_[f];p.insert(0,x.scope,x.parentScopes,x.fontStyle,s.getId(x.foreground),s.getId(x.background))}return new v(s,h,p)}(u,c)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(u){if(u===null)return this._defaults;const c=u.scopeName,_=this._cachedMatchRoot.get(c).find(o=>function(e,n){if(n===null)return!0;let i=0,s=n[i];for(;e;){if(w(e.scopeName,s)){if(i++,i===n.length)return!0;s=n[i]}e=e.parent}return!1}(u.parent,o.parentScopes));return _?new m(_.fontStyle,_.foreground,_.background):null}}a.Theme=v;class r{constructor(u,c){this.parent=u,this.scopeName=c}static from(...u){let c=null;for(let _=0;_<u.length;_++)c=new r(c,u[_]);return c}push(u){return new r(this,u)}getSegments(){let u=this;const c=[];for(;u;)c.push(u.scopeName),u=u.parent;return c.reverse(),c}toString(){return this.getSegments().join(" ")}}function w(d,u){return u===d||d.startsWith(u)&&d[u.length]==="."}a.ScopeStack=r;class m{constructor(u,c,_){this.fontStyle=u,this.foregroundId=c,this.backgroundId=_}}function b(d){if(!d)return[];if(!d.settings||!Array.isArray(d.settings))return[];let u=d.settings,c=[],_=0;for(let o=0,e=u.length;o<e;o++){let n,i=u[o];if(!i.settings)continue;if(typeof i.scope=="string"){let f=i.scope;f=f.replace(/^[,]+/,""),f=f.replace(/[,]+$/,""),n=f.split(",")}else n=Array.isArray(i.scope)?i.scope:[""];let s=-1;if(typeof i.settings.fontStyle=="string"){s=0;let f=i.settings.fontStyle.split(" ");for(let A=0,x=f.length;A<x;A++)switch(f[A]){case"italic":s|=1;break;case"bold":s|=2;break;case"underline":s|=4;break;case"strikethrough":s|=8}}let h=null;typeof i.settings.foreground=="string"&&k.isValidHexColor(i.settings.foreground)&&(h=i.settings.foreground);let p=null;typeof i.settings.background=="string"&&k.isValidHexColor(i.settings.background)&&(p=i.settings.background);for(let f=0,A=n.length;f<A;f++){let x=n[f].trim().split(" "),O=x[x.length-1],G=null;x.length>1&&(G=x.slice(0,x.length-1),G.reverse()),c[_++]=new T(O,G,o,s,h,p)}}return c}a.StyleAttributes=m,a.parseTheme=b;class T{constructor(u,c,_,o,e,n){this.scope=u,this.parentScopes=c,this.index=_,this.fontStyle=o,this.foreground=e,this.background=n}}a.ParsedThemeRule=T,a.fontStyleToString=function(d){if(d===-1)return"not set";let u="";return 1&d&&(u+="italic "),2&d&&(u+="bold "),4&d&&(u+="underline "),8&d&&(u+="strikethrough "),u===""&&(u="none"),u.trim()};class g{constructor(u){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(u)){this._isFrozen=!0;for(let c=0,_=u.length;c<_;c++)this._color2id[u[c]]=c,this._id2color[c]=u[c]}else this._isFrozen=!1}getId(u){if(u===null)return 0;u=u.toUpperCase();let c=this._color2id[u];if(c)return c;if(this._isFrozen)throw new Error(`Missing color in color map - ${u}`);return c=++this._lastColorId,this._color2id[u]=c,this._id2color[c]=u,c}getColorMap(){return this._id2color.slice(0)}}a.ColorMap=g;class j{constructor(u,c,_,o,e){this.scopeDepth=u,this.parentScopes=c,this.fontStyle=_,this.foreground=o,this.background=e}clone(){return new j(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(u){let c=[];for(let _=0,o=u.length;_<o;_++)c[_]=u[_].clone();return c}acceptOverwrite(u,c,_,o){this.scopeDepth>u?console.log("how did this happen?"):this.scopeDepth=u,c!==-1&&(this.fontStyle=c),_!==0&&(this.foreground=_),o!==0&&(this.background=o)}}a.ThemeTrieElementRule=j;class N{constructor(u,c=[],_={}){this._mainRule=u,this._children=_,this._rulesWithParentScopes=c}static _sortBySpecificity(u){return u.length===1||u.sort(this._cmpBySpecificity),u}static _cmpBySpecificity(u,c){if(u.scopeDepth===c.scopeDepth){const _=u.parentScopes,o=c.parentScopes;let e=_===null?0:_.length,n=o===null?0:o.length;if(e===n)for(let i=0;i<e;i++){const s=_[i].length,h=o[i].length;if(s!==h)return h-s}return n-e}return c.scopeDepth-u.scopeDepth}match(u){if(u==="")return N._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes));let c,_,o=u.indexOf(".");return o===-1?(c=u,_=""):(c=u.substring(0,o),_=u.substring(o+1)),this._children.hasOwnProperty(c)?this._children[c].match(_):N._sortBySpecificity([].concat(this._mainRule).concat(this._rulesWithParentScopes))}insert(u,c,_,o,e,n){if(c==="")return void this._doInsertHere(u,_,o,e,n);let i,s,h,p=c.indexOf(".");p===-1?(i=c,s=""):(i=c.substring(0,p),s=c.substring(p+1)),this._children.hasOwnProperty(i)?h=this._children[i]:(h=new N(this._mainRule.clone(),j.cloneArr(this._rulesWithParentScopes)),this._children[i]=h),h.insert(u+1,s,_,o,e,n)}_doInsertHere(u,c,_,o,e){if(c!==null){for(let n=0,i=this._rulesWithParentScopes.length;n<i;n++){let s=this._rulesWithParentScopes[n];if(k.strArrCmp(s.parentScopes,c)===0)return void s.acceptOverwrite(u,_,o,e)}_===-1&&(_=this._mainRule.fontStyle),o===0&&(o=this._mainRule.foreground),e===0&&(e=this._mainRule.background),this._rulesWithParentScopes.push(new j(u,c,_,o,e))}else this._mainRule.acceptOverwrite(u,_,o,e)}}a.ThemeTrieElement=N},878:(R,a)=>{function L(r){return Array.isArray(r)?function(w){let m=[];for(let b=0,T=w.length;b<T;b++)m[b]=L(w[b]);return m}(r):typeof r=="object"?function(w){let m={};for(let b in w)m[b]=L(w[b]);return m}(r):r}Object.defineProperty(a,"__esModule",{value:!0}),a.performanceNow=a.CachedFn=a.escapeRegExpCharacters=a.isValidHexColor=a.strArrCmp=a.strcmp=a.RegexSource=a.basename=a.mergeObjects=a.clone=void 0,a.clone=function(r){return L(r)},a.mergeObjects=function(r,...w){return w.forEach(m=>{for(let b in m)r[b]=m[b]}),r},a.basename=function r(w){const m=~w.lastIndexOf("/")||~w.lastIndexOf("\\");return m===0?w:~m==w.length-1?r(w.substring(0,w.length-1)):w.substr(1+~m)};let k=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g;function v(r,w){return r<w?-1:r>w?1:0}a.RegexSource=class{static hasCaptures(r){return r!==null&&(k.lastIndex=0,k.test(r))}static replaceCaptures(r,w,m){return r.replace(k,(b,T,g,j)=>{let N=m[parseInt(T||g,10)];if(!N)return b;{let d=w.substring(N.start,N.end);for(;d[0]===".";)d=d.substring(1);switch(j){case"downcase":return d.toLowerCase();case"upcase":return d.toUpperCase();default:return d}}})}},a.strcmp=v,a.strArrCmp=function(r,w){if(r===null&&w===null)return 0;if(!r)return-1;if(!w)return 1;let m=r.length,b=w.length;if(m===b){for(let T=0;T<m;T++){let g=v(r[T],w[T]);if(g!==0)return g}return 0}return m-b},a.isValidHexColor=function(r){return!!(/^#[0-9a-f]{6}$/i.test(r)||/^#[0-9a-f]{8}$/i.test(r)||/^#[0-9a-f]{3}$/i.test(r)||/^#[0-9a-f]{4}$/i.test(r))},a.escapeRegExpCharacters=function(r){return r.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")},a.CachedFn=class{constructor(r){this.fn=r,this.cache=new Map}get(r){if(this.cache.has(r))return this.cache.get(r);const w=this.fn(r);return this.cache.set(r,w),w}},a.performanceNow=typeof performance>"u"?function(){return Date.now()}:function(){return performance.now()}}},l={};return function R(a){var L=l[a];if(L!==void 0)return L.exports;var k=l[a]={exports:{}};return S[a].call(k.exports,k,k.exports,R),k.exports}(787)})()})})(qe);const yt=["css-variables","dark-plus","dracula-soft","dracula","github-dark-dimmed","github-dark","github-light","hc_light","light-plus","material-darker","material-default","material-lighter","material-ocean","material-palenight","min-dark","min-light","monokai","nord","one-dark-pro","poimandres","rose-pine-dawn","rose-pine-moon","rose-pine","slack-dark","slack-ochin","solarized-dark","solarized-light","vitesse-dark","vitesse-light"],Le=[{id:"abap",scopeName:"source.abap",path:"abap.tmLanguage.json",samplePath:"abap.sample"},{id:"actionscript-3",scopeName:"source.actionscript.3",path:"actionscript-3.tmLanguage.json",samplePath:"actionscript-3.sample"},{id:"ada",scopeName:"source.ada",path:"ada.tmLanguage.json",samplePath:"ada.sample"},{id:"apache",scopeName:"source.apacheconf",path:"apache.tmLanguage.json"},{id:"apex",scopeName:"source.apex",path:"apex.tmLanguage.json",samplePath:"apex.sample"},{id:"apl",scopeName:"source.apl",path:"apl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","json"]},{id:"applescript",scopeName:"source.applescript",path:"applescript.tmLanguage.json",samplePath:"applescript.sample"},{id:"asm",scopeName:"source.asm.x86_64",path:"asm.tmLanguage.json",samplePath:"asm.sample"},{id:"astro",scopeName:"source.astro",path:"astro.tmLanguage.json",samplePath:"astro.sample",embeddedLangs:["json","javascript","typescript","tsx","css","less","sass","scss","stylus"]},{id:"awk",scopeName:"source.awk",path:"awk.tmLanguage.json",samplePath:"awk.sample"},{id:"ballerina",scopeName:"source.ballerina",path:"ballerina.tmLanguage.json",samplePath:"ballerina.sample"},{id:"bat",scopeName:"source.batchfile",path:"bat.tmLanguage.json",samplePath:"bat.sample",aliases:["batch"]},{id:"berry",scopeName:"source.berry",path:"berry.tmLanguage.json",samplePath:"berry.sample",aliases:["be"]},{id:"bibtex",scopeName:"text.bibtex",path:"bibtex.tmLanguage.json"},{id:"bicep",scopeName:"source.bicep",path:"bicep.tmLanguage.json",samplePath:"bicep.sample"},{id:"blade",scopeName:"text.html.php.blade",path:"blade.tmLanguage.json",samplePath:"blade.sample",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"c",scopeName:"source.c",path:"c.tmLanguage.json",samplePath:"c.sample"},{id:"cadence",scopeName:"source.cadence",path:"cadence.tmLanguage.json",samplePath:"cadence.sample",aliases:["cdc"]},{id:"clarity",scopeName:"source.clar",path:"clarity.tmLanguage.json",samplePath:"clarity.sample"},{id:"clojure",scopeName:"source.clojure",path:"clojure.tmLanguage.json",samplePath:"clojure.sample",aliases:["clj"]},{id:"cmake",scopeName:"source.cmake",path:"cmake.tmLanguage.json",samplePath:"cmake.sample"},{id:"cobol",scopeName:"source.cobol",path:"cobol.tmLanguage.json",samplePath:"cobol.sample",embeddedLangs:["sql","html","java"]},{id:"codeql",scopeName:"source.ql",path:"codeql.tmLanguage.json",samplePath:"codeql.sample",aliases:["ql"],embeddedLangs:["markdown"]},{id:"coffee",scopeName:"source.coffee",path:"coffee.tmLanguage.json",samplePath:"coffee.sample",embeddedLangs:["javascript"]},{id:"cpp",scopeName:"source.cpp",path:"cpp.tmLanguage.json",samplePath:"cpp.sample",embeddedLangs:["glsl","sql"]},{id:"crystal",scopeName:"source.crystal",path:"crystal.tmLanguage.json",samplePath:"crystal.sample",embeddedLangs:["html","sql","css","c","javascript","shellscript"]},{id:"csharp",scopeName:"source.cs",path:"csharp.tmLanguage.json",samplePath:"csharp.sample",aliases:["c#","cs"]},{id:"css",scopeName:"source.css",path:"css.tmLanguage.json",samplePath:"css.sample"},{id:"cue",scopeName:"source.cue",path:"cue.tmLanguage.json",samplePath:"cue.sample"},{id:"d",scopeName:"source.d",path:"d.tmLanguage.json",samplePath:"d.sample"},{id:"dart",scopeName:"source.dart",path:"dart.tmLanguage.json",samplePath:"dart.sample"},{id:"diff",scopeName:"source.diff",path:"diff.tmLanguage.json",samplePath:"diff.sample"},{id:"docker",scopeName:"source.dockerfile",path:"docker.tmLanguage.json",samplePath:"docker.sample"},{id:"dream-maker",scopeName:"source.dm",path:"dream-maker.tmLanguage.json"},{id:"elixir",scopeName:"source.elixir",path:"elixir.tmLanguage.json",samplePath:"elixir.sample",embeddedLangs:["html"]},{id:"elm",scopeName:"source.elm",path:"elm.tmLanguage.json",samplePath:"elm.sample",embeddedLangs:["glsl"]},{id:"erb",scopeName:"text.html.erb",path:"erb.tmLanguage.json",samplePath:"erb.sample",embeddedLangs:["html","ruby"]},{id:"erlang",scopeName:"source.erlang",path:"erlang.tmLanguage.json",samplePath:"erlang.sample",aliases:["erl"]},{id:"fish",scopeName:"source.fish",path:"fish.tmLanguage.json",samplePath:"fish.sample"},{id:"fsharp",scopeName:"source.fsharp",path:"fsharp.tmLanguage.json",samplePath:"fsharp.sample",aliases:["f#","fs"],embeddedLangs:["markdown"]},{id:"gherkin",scopeName:"text.gherkin.feature",path:"gherkin.tmLanguage.json"},{id:"git-commit",scopeName:"text.git-commit",path:"git-commit.tmLanguage.json",embeddedLangs:["diff"]},{id:"git-rebase",scopeName:"text.git-rebase",path:"git-rebase.tmLanguage.json",embeddedLangs:["shellscript"]},{id:"glsl",scopeName:"source.glsl",path:"glsl.tmLanguage.json",samplePath:"glsl.sample",embeddedLangs:["c"]},{id:"gnuplot",scopeName:"source.gnuplot",path:"gnuplot.tmLanguage.json"},{id:"go",scopeName:"source.go",path:"go.tmLanguage.json",samplePath:"go.sample"},{id:"graphql",scopeName:"source.graphql",path:"graphql.tmLanguage.json",embeddedLangs:["javascript","typescript","jsx","tsx"]},{id:"groovy",scopeName:"source.groovy",path:"groovy.tmLanguage.json"},{id:"hack",scopeName:"source.hack",path:"hack.tmLanguage.json",embeddedLangs:["html","sql"]},{id:"haml",scopeName:"text.haml",path:"haml.tmLanguage.json",embeddedLangs:["ruby","javascript","sass","coffee","markdown","css"]},{id:"handlebars",scopeName:"text.html.handlebars",path:"handlebars.tmLanguage.json",aliases:["hbs"],embeddedLangs:["html","css","javascript","yaml"]},{id:"haskell",scopeName:"source.haskell",path:"haskell.tmLanguage.json",aliases:["hs"]},{id:"hcl",scopeName:"source.hcl",path:"hcl.tmLanguage.json",samplePath:"hcl.sample"},{id:"hlsl",scopeName:"source.hlsl",path:"hlsl.tmLanguage.json"},{id:"html",scopeName:"text.html.basic",path:"html.tmLanguage.json",samplePath:"html.sample",embeddedLangs:["javascript","css"]},{id:"imba",scopeName:"source.imba",path:"imba.tmLanguage.json",samplePath:"imba.sample"},{id:"ini",scopeName:"source.ini",path:"ini.tmLanguage.json"},{id:"java",scopeName:"source.java",path:"java.tmLanguage.json",samplePath:"java.sample"},{id:"javascript",scopeName:"source.js",path:"javascript.tmLanguage.json",samplePath:"javascript.sample",aliases:["js"]},{id:"jinja-html",scopeName:"text.html.jinja",path:"jinja-html.tmLanguage.json",embeddedLangs:["html"]},{id:"json",scopeName:"source.json",path:"json.tmLanguage.json"},{id:"json5",scopeName:"source.json5",path:"json5.tmLanguage.json",samplePath:"json5.sample"},{id:"jsonc",scopeName:"source.json.comments",path:"jsonc.tmLanguage.json"},{id:"jsonnet",scopeName:"source.jsonnet",path:"jsonnet.tmLanguage.json"},{id:"jssm",scopeName:"source.jssm",path:"jssm.tmLanguage.json",samplePath:"jssm.sample",aliases:["fsl"]},{id:"jsx",scopeName:"source.js.jsx",path:"jsx.tmLanguage.json"},{id:"julia",scopeName:"source.julia",path:"julia.tmLanguage.json",embeddedLangs:["cpp","python","javascript","r","sql"]},{id:"kotlin",scopeName:"source.kotlin",path:"kotlin.tmLanguage.json"},{id:"latex",scopeName:"text.tex.latex",path:"latex.tmLanguage.json",embeddedLangs:["tex","css","haskell","html","xml","java","lua","julia","ruby","javascript","typescript","python","yaml","rust","scala","gnuplot"]},{id:"less",scopeName:"source.css.less",path:"less.tmLanguage.json",embeddedLangs:["css"]},{id:"liquid",scopeName:"text.html.liquid",path:"liquid.tmLanguage.json",samplePath:"liquid.sample",embeddedLangs:["html","css","json","javascript"]},{id:"lisp",scopeName:"source.lisp",path:"lisp.tmLanguage.json"},{id:"logo",scopeName:"source.logo",path:"logo.tmLanguage.json"},{id:"lua",scopeName:"source.lua",path:"lua.tmLanguage.json",embeddedLangs:["c"]},{id:"make",scopeName:"source.makefile",path:"make.tmLanguage.json",aliases:["makefile"]},{id:"markdown",scopeName:"text.html.markdown",path:"markdown.tmLanguage.json",aliases:["md"],embeddedLangs:["css","html","ini","java","lua","make","perl","r","ruby","php","sql","vb","xml","xsl","yaml","bat","clojure","coffee","c","cpp","diff","docker","git-commit","git-rebase","go","groovy","pug","javascript","json","jsonc","less","objective-c","swift","scss","raku","powershell","python","julia","rust","scala","shellscript","typescript","tsx","csharp","fsharp","dart","handlebars","erlang","elixir","latex","bibtex"]},{id:"marko",scopeName:"text.marko",path:"marko.tmLanguage.json",embeddedLangs:["css","less","scss","typescript"]},{id:"matlab",scopeName:"source.matlab",path:"matlab.tmLanguage.json"},{id:"mdx",scopeName:"text.html.markdown.jsx",path:"mdx.tmLanguage.json",embeddedLangs:["jsx","markdown"]},{id:"mermaid",scopeName:"source.mermaid",path:"mermaid.tmLanguage.json"},{id:"nginx",scopeName:"source.nginx",path:"nginx.tmLanguage.json",embeddedLangs:["lua"]},{id:"nim",scopeName:"source.nim",path:"nim.tmLanguage.json",embeddedLangs:["c","html","xml","javascript","css","glsl","markdown"]},{id:"nix",scopeName:"source.nix",path:"nix.tmLanguage.json"},{id:"objective-c",scopeName:"source.objc",path:"objective-c.tmLanguage.json",aliases:["objc"]},{id:"objective-cpp",scopeName:"source.objcpp",path:"objective-cpp.tmLanguage.json"},{id:"ocaml",scopeName:"source.ocaml",path:"ocaml.tmLanguage.json"},{id:"pascal",scopeName:"source.pascal",path:"pascal.tmLanguage.json"},{id:"perl",scopeName:"source.perl",path:"perl.tmLanguage.json",embeddedLangs:["html","xml","css","javascript","sql"]},{id:"php",scopeName:"source.php",path:"php.tmLanguage.json",embeddedLangs:["html","xml","sql","javascript","json","css"]},{id:"plsql",scopeName:"source.plsql.oracle",path:"plsql.tmLanguage.json"},{id:"postcss",scopeName:"source.css.postcss",path:"postcss.tmLanguage.json"},{id:"powershell",scopeName:"source.powershell",path:"powershell.tmLanguage.json",aliases:["ps","ps1"]},{id:"prisma",scopeName:"source.prisma",path:"prisma.tmLanguage.json",samplePath:"prisma.sample"},{id:"prolog",scopeName:"source.prolog",path:"prolog.tmLanguage.json"},{id:"proto",scopeName:"source.proto",path:"proto.tmLanguage.json",samplePath:"proto.sample"},{id:"pug",scopeName:"text.pug",path:"pug.tmLanguage.json",aliases:["jade"],embeddedLangs:["javascript","css","sass","scss","stylus","coffee","html"]},{id:"puppet",scopeName:"source.puppet",path:"puppet.tmLanguage.json"},{id:"purescript",scopeName:"source.purescript",path:"purescript.tmLanguage.json"},{id:"python",scopeName:"source.python",path:"python.tmLanguage.json",samplePath:"python.sample",aliases:["py"]},{id:"r",scopeName:"source.r",path:"r.tmLanguage.json"},{id:"raku",scopeName:"source.perl.6",path:"raku.tmLanguage.json",aliases:["perl6"]},{id:"razor",scopeName:"text.aspnetcorerazor",path:"razor.tmLanguage.json",embeddedLangs:["html","csharp"]},{id:"rel",scopeName:"source.rel",path:"rel.tmLanguage.json",samplePath:"rel.sample"},{id:"riscv",scopeName:"source.riscv",path:"riscv.tmLanguage.json"},{id:"rst",scopeName:"source.rst",path:"rst.tmLanguage.json",embeddedLangs:["cpp","python","javascript","shellscript","yaml","cmake","ruby"]},{id:"ruby",scopeName:"source.ruby",path:"ruby.tmLanguage.json",samplePath:"ruby.sample",aliases:["rb"],embeddedLangs:["html","xml","sql","css","c","javascript","shellscript","lua"]},{id:"rust",scopeName:"source.rust",path:"rust.tmLanguage.json",aliases:["rs"]},{id:"sas",scopeName:"source.sas",path:"sas.tmLanguage.json",embeddedLangs:["sql"]},{id:"sass",scopeName:"source.sass",path:"sass.tmLanguage.json"},{id:"scala",scopeName:"source.scala",path:"scala.tmLanguage.json"},{id:"scheme",scopeName:"source.scheme",path:"scheme.tmLanguage.json"},{id:"scss",scopeName:"source.css.scss",path:"scss.tmLanguage.json",embeddedLangs:["css"]},{id:"shaderlab",scopeName:"source.shaderlab",path:"shaderlab.tmLanguage.json",aliases:["shader"],embeddedLangs:["hlsl"]},{id:"shellscript",scopeName:"source.shell",path:"shellscript.tmLanguage.json",aliases:["shell","bash","sh","zsh"]},{id:"smalltalk",scopeName:"source.smalltalk",path:"smalltalk.tmLanguage.json"},{id:"solidity",scopeName:"source.solidity",path:"solidity.tmLanguage.json"},{id:"sparql",scopeName:"source.sparql",path:"sparql.tmLanguage.json",samplePath:"sparql.sample",embeddedLangs:["turtle"]},{id:"sql",scopeName:"source.sql",path:"sql.tmLanguage.json"},{id:"ssh-config",scopeName:"source.ssh-config",path:"ssh-config.tmLanguage.json"},{id:"stata",scopeName:"source.stata",path:"stata.tmLanguage.json",samplePath:"stata.sample",embeddedLangs:["sql"]},{id:"stylus",scopeName:"source.stylus",path:"stylus.tmLanguage.json",aliases:["styl"]},{id:"svelte",scopeName:"source.svelte",path:"svelte.tmLanguage.json",embeddedLangs:["javascript","typescript","coffee","stylus","sass","css","scss","less","postcss","pug","markdown"]},{id:"swift",scopeName:"source.swift",path:"swift.tmLanguage.json"},{id:"system-verilog",scopeName:"source.systemverilog",path:"system-verilog.tmLanguage.json"},{id:"tasl",scopeName:"source.tasl",path:"tasl.tmLanguage.json",samplePath:"tasl.sample"},{id:"tcl",scopeName:"source.tcl",path:"tcl.tmLanguage.json"},{id:"tex",scopeName:"text.tex",path:"tex.tmLanguage.json",embeddedLangs:["r"]},{id:"toml",scopeName:"source.toml",path:"toml.tmLanguage.json"},{id:"tsx",scopeName:"source.tsx",path:"tsx.tmLanguage.json",samplePath:"tsx.sample"},{id:"turtle",scopeName:"source.turtle",path:"turtle.tmLanguage.json",samplePath:"turtle.sample"},{id:"twig",scopeName:"text.html.twig",path:"twig.tmLanguage.json",embeddedLangs:["css","javascript","php","python","ruby"]},{id:"typescript",scopeName:"source.ts",path:"typescript.tmLanguage.json",aliases:["ts"]},{id:"v",scopeName:"source.v",path:"v.tmLanguage.json",samplePath:"v.sample"},{id:"vb",scopeName:"source.asp.vb.net",path:"vb.tmLanguage.json",aliases:["cmd"]},{id:"verilog",scopeName:"source.verilog",path:"verilog.tmLanguage.json"},{id:"vhdl",scopeName:"source.vhdl",path:"vhdl.tmLanguage.json"},{id:"viml",scopeName:"source.viml",path:"viml.tmLanguage.json",aliases:["vim","vimscript"]},{id:"vue-html",scopeName:"text.html.vue-html",path:"vue-html.tmLanguage.json",embeddedLangs:["vue","javascript"]},{id:"vue",scopeName:"source.vue",path:"vue.tmLanguage.json",embeddedLangs:["html","markdown","pug","stylus","sass","css","scss","less","javascript","typescript","jsx","tsx","json","jsonc","yaml","toml","graphql"]},{id:"wasm",scopeName:"source.wat",path:"wasm.tmLanguage.json"},{id:"wenyan",scopeName:"source.wenyan",path:"wenyan.tmLanguage.json",aliases:[""]},{id:"xml",scopeName:"text.xml",path:"xml.tmLanguage.json",embeddedLangs:["java"]},{id:"xsl",scopeName:"text.xml.xsl",path:"xsl.tmLanguage.json",embeddedLangs:["xml"]},{id:"yaml",scopeName:"source.yaml",path:"yaml.tmLanguage.json"},{id:"zenscript",scopeName:"source.zenscript",path:"zenscript.tmLanguage.json",samplePath:"zenscript.sample"}];var be=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t))(be||{});class K{static toBinaryStr(y){let S=y.toString(2);for(;S.length<32;)S="0"+S;return S}static printMetadata(y){let S=K.getLanguageId(y),l=K.getTokenType(y),R=K.getFontStyle(y),a=K.getForeground(y),L=K.getBackground(y);console.log({languageId:S,tokenType:l,fontStyle:R,foreground:a,background:L})}static getLanguageId(y){return(y&255)>>>0}static getTokenType(y){return(y&768)>>>8}static getFontStyle(y){return(y&14336)>>>11}static getForeground(y){return(y&8372224)>>>15}static getBackground(y){return(y&4286578688)>>>24}static containsBalancedBrackets(y){return(y&1024)!==0}static set(y,S,l,R,a,L){let k=K.getLanguageId(y),v=K.getTokenType(y),r=K.getFontStyle(y),w=K.getForeground(y),m=K.getBackground(y),b=K.containsBalancedBrackets(y)?1:0;return S!==0&&(k=S),l!==0&&(v=l===8?0:l),R!==-1&&(r=R),a!==0&&(w=a),L!==0&&(m=L),(k<<0|v<<8|r<<11|b<<10|w<<15|m<<24)>>>0}}function ze(t){return t.endsWith("/")||t.endsWith("\\")?t.slice(0,-1):t}function He(t){return t.startsWith("./")?t.slice(2):t}function Ee(t){const y=t.split(/[\/\\]/g);return y.slice(0,y.length-1)}function Ge(...t){return t.map(ze).map(He).join("/")}function Ve(t,y){const S=new Map;for(const l of t){const R=y(l);S.has(R)?S.get(R).push(l):S.set(R,[l])}return S}function Ce(t,y=!1){const S=t.length;let l=0,R="",a=0,L=16,k=0,v=0,r=0,w=0,m=0;function b(c,_){let o=0,e=0;for(;o<c||!_;){let n=t.charCodeAt(l);if(n>=48&&n<=57)e=e*16+n-48;else if(n>=65&&n<=70)e=e*16+n-65+10;else if(n>=97&&n<=102)e=e*16+n-97+10;else break;l++,o++}return o<c&&(e=-1),e}function T(c){l=c,R="",a=0,L=16,m=0}function g(){let c=l;if(t.charCodeAt(l)===48)l++;else for(l++;l<t.length&&me(t.charCodeAt(l));)l++;if(l<t.length&&t.charCodeAt(l)===46)if(l++,l<t.length&&me(t.charCodeAt(l)))for(l++;l<t.length&&me(t.charCodeAt(l));)l++;else return m=3,t.substring(c,l);let _=l;if(l<t.length&&(t.charCodeAt(l)===69||t.charCodeAt(l)===101))if(l++,(l<t.length&&t.charCodeAt(l)===43||t.charCodeAt(l)===45)&&l++,l<t.length&&me(t.charCodeAt(l))){for(l++;l<t.length&&me(t.charCodeAt(l));)l++;_=l}else m=3;return t.substring(c,_)}function j(){let c="",_=l;for(;;){if(l>=S){c+=t.substring(_,l),m=2;break}const o=t.charCodeAt(l);if(o===34){c+=t.substring(_,l),l++;break}if(o===92){if(c+=t.substring(_,l),l++,l>=S){m=2;break}switch(t.charCodeAt(l++)){case 34:c+='"';break;case 92:c+="\\";break;case 47:c+="/";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+=`
`;break;case 114:c+="\r";break;case 116:c+="	";break;case 117:const n=b(4,!0);n>=0?c+=String.fromCharCode(n):m=4;break;default:m=5}_=l;continue}if(o>=0&&o<=31)if(_e(o)){c+=t.substring(_,l),m=2;break}else m=6;l++}return c}function N(){if(R="",m=0,a=l,v=k,w=r,l>=S)return a=S,L=17;let c=t.charCodeAt(l);if(Ne(c)){do l++,R+=String.fromCharCode(c),c=t.charCodeAt(l);while(Ne(c));return L=15}if(_e(c))return l++,R+=String.fromCharCode(c),c===13&&t.charCodeAt(l)===10&&(l++,R+=`
`),k++,r=l,L=14;switch(c){case 123:return l++,L=1;case 125:return l++,L=2;case 91:return l++,L=3;case 93:return l++,L=4;case 58:return l++,L=6;case 44:return l++,L=5;case 34:return l++,R=j(),L=10;case 47:const _=l-1;if(t.charCodeAt(l+1)===47){for(l+=2;l<S&&!_e(t.charCodeAt(l));)l++;return R=t.substring(_,l),L=12}if(t.charCodeAt(l+1)===42){l+=2;const o=S-1;let e=!1;for(;l<o;){const n=t.charCodeAt(l);if(n===42&&t.charCodeAt(l+1)===47){l+=2,e=!0;break}l++,_e(n)&&(n===13&&t.charCodeAt(l)===10&&l++,k++,r=l)}return e||(l++,m=1),R=t.substring(_,l),L=13}return R+=String.fromCharCode(c),l++,L=16;case 45:if(R+=String.fromCharCode(c),l++,l===S||!me(t.charCodeAt(l)))return L=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return R+=g(),L=11;default:for(;l<S&&d(c);)l++,c=t.charCodeAt(l);if(a!==l){switch(R=t.substring(a,l),R){case"true":return L=8;case"false":return L=9;case"null":return L=7}return L=16}return R+=String.fromCharCode(c),l++,L=16}}function d(c){if(Ne(c)||_e(c))return!1;switch(c){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function u(){let c;do c=N();while(c>=12&&c<=15);return c}return{setPosition:T,getPosition:()=>l,scan:y?u:N,getToken:()=>L,getTokenValue:()=>R,getTokenOffset:()=>a,getTokenLength:()=>l-a,getTokenStartLine:()=>v,getTokenStartCharacter:()=>a-w,getTokenError:()=>m}}function Ne(t){return t===32||t===9}function _e(t){return t===10||t===13}function me(t){return t>=48&&t<=57}var Se;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(Se||(Se={}));var ke;(function(t){t.DEFAULT={allowTrailingComma:!1}})(ke||(ke={}));function Qe(t,y=[],S=ke.DEFAULT){let l=null,R=[];const a=[];function L(v){Array.isArray(R)?R.push(v):l!==null&&(R[l]=v)}return Je(t,{onObjectBegin:()=>{const v={};L(v),a.push(R),R=v,l=null},onObjectProperty:v=>{l=v},onObjectEnd:()=>{R=a.pop()},onArrayBegin:()=>{const v=[];L(v),a.push(R),R=v,l=null},onArrayEnd:()=>{R=a.pop()},onLiteralValue:L,onError:(v,r,w)=>{y.push({error:v,offset:r,length:w})}},S),R[0]}function Je(t,y,S=ke.DEFAULT){const l=Ce(t,!1),R=[];function a(f){return f?()=>f(l.getTokenOffset(),l.getTokenLength(),l.getTokenStartLine(),l.getTokenStartCharacter()):()=>!0}function L(f){return f?()=>f(l.getTokenOffset(),l.getTokenLength(),l.getTokenStartLine(),l.getTokenStartCharacter(),()=>R.slice()):()=>!0}function k(f){return f?A=>f(A,l.getTokenOffset(),l.getTokenLength(),l.getTokenStartLine(),l.getTokenStartCharacter()):()=>!0}function v(f){return f?A=>f(A,l.getTokenOffset(),l.getTokenLength(),l.getTokenStartLine(),l.getTokenStartCharacter(),()=>R.slice()):()=>!0}const r=L(y.onObjectBegin),w=v(y.onObjectProperty),m=a(y.onObjectEnd),b=L(y.onArrayBegin),T=a(y.onArrayEnd),g=v(y.onLiteralValue),j=k(y.onSeparator),N=a(y.onComment),d=k(y.onError),u=S&&S.disallowComments,c=S&&S.allowTrailingComma;function _(){for(;;){const f=l.scan();switch(l.getTokenError()){case 4:o(14);break;case 5:o(15);break;case 3:o(13);break;case 1:u||o(11);break;case 2:o(12);break;case 6:o(16);break}switch(f){case 12:case 13:u?o(10):N();break;case 16:o(1);break;case 15:case 14:break;default:return f}}}function o(f,A=[],x=[]){if(d(f),A.length+x.length>0){let O=l.getToken();for(;O!==17;){if(A.indexOf(O)!==-1){_();break}else if(x.indexOf(O)!==-1)break;O=_()}}}function e(f){const A=l.getTokenValue();return f?g(A):(w(A),R.push(A)),_(),!0}function n(){switch(l.getToken()){case 11:const f=l.getTokenValue();let A=Number(f);isNaN(A)&&(o(2),A=0),g(A);break;case 7:g(null);break;case 8:g(!0);break;case 9:g(!1);break;default:return!1}return _(),!0}function i(){return l.getToken()!==10?(o(3,[],[2,5]),!1):(e(!1),l.getToken()===6?(j(":"),_(),p()||o(4,[],[2,5])):o(5,[],[2,5]),R.pop(),!0)}function s(){r(),_();let f=!1;for(;l.getToken()!==2&&l.getToken()!==17;){if(l.getToken()===5){if(f||o(4,[],[]),j(","),_(),l.getToken()===2&&c)break}else f&&o(6,[],[]);i()||o(4,[],[2,5]),f=!0}return m(),l.getToken()!==2?o(7,[2],[]):_(),!0}function h(){b(),_();let f=!0,A=!1;for(;l.getToken()!==4&&l.getToken()!==17;){if(l.getToken()===5){if(A||o(4,[],[]),j(","),_(),l.getToken()===4&&c)break}else A&&o(6,[],[]);f?(R.push(0),f=!1):R[R.length-1]++,p()||o(4,[],[4,5]),A=!0}return T(),f||R.pop(),l.getToken()!==4?o(8,[4],[]):_(),!0}function p(){switch(l.getToken()){case 3:return h();case 1:return s();case 10:return e(!0);default:return n()}}return _(),l.getToken()===17?S.allowEmptyContent?!0:(o(4,[],[]),!1):p()?(l.getToken()!==17&&o(9,[],[]),!0):(o(4,[],[]),!1)}var Ae;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(Ae||(Ae={}));var Te;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(Te||(Te={}));const Xe=Qe;var Pe;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(Pe||(Pe={}));"process"in globalThis&&typeof process<"u"&&typeof process.release<"u"&&process.release.name;let Be="",we="";const Ye="dist/";function Ze(t){Be=t.endsWith("/")?t:t+"/"}function Ke(t){we=t}let ve=null;async function et(t){if(!ve){let y;typeof we=="string"?y=de.loadWASM({data:await(globalThis.__shiki_fetch__||globalThis.fetch)(Me(Ge(...Ee(t),"onig.wasm")))}):y=de.loadWASM({data:we}),ve=y.then(()=>({createOnigScanner(S){return de.createOnigScanner(S)},createOnigString(S){return de.createOnigString(S)}}))}return ve}function Me(t){return`${Be}${t}`}async function tt(t){const y=Me(t);return await(globalThis.__shiki_fetch__||globalThis.fetch)(y).then(S=>S.text())}async function De(t){const y=[],S=Xe(await tt(t),y,{allowTrailingComma:!0});if(y.length)throw y[0];return S}async function Fe(t){let y=await De(t);const S=$e(y);if(S.include){const l=await Fe(Ge(...Ee(t),S.include));l.settings&&(S.settings=l.settings.concat(S.settings)),l.bg&&!S.bg&&(S.bg=l.bg),l.colors&&(S.colors={...l.colors,...S.colors}),delete S.include}return S}async function nt(t){return await De(t)}function st(t){t.settings||(t.settings=[]),!(t.settings[0]&&t.settings[0].settings&&!t.settings[0].scope)&&t.settings.unshift({settings:{foreground:t.fg,background:t.bg}})}function $e(t){const y=t.type||"dark",S={name:t.name,type:y,...t,...rt(t)};return t.include&&(S.include=t.include),t.tokenColors&&(S.settings=t.tokenColors,delete S.tokenColors),st(S),S}const Re={light:"#333333",dark:"#bbbbbb"},xe={light:"#fffffe",dark:"#1e1e1e"};function rt(t){let y,S,l=t.settings?t.settings:t.tokenColors;const R=l?l.find(a=>!a.name&&!a.scope):void 0;return R?.settings?.foreground&&(y=R.settings.foreground),R?.settings?.background&&(S=R.settings.background),!y&&t?.colors?.["editor.foreground"]&&(y=t.colors["editor.foreground"]),!S&&t?.colors?.["editor.background"]&&(S=t.colors["editor.background"]),y||(y=t.type==="light"?Re.light:Re.dark),S||(S=t.type==="light"?xe.light:xe.dark),{fg:y,bg:S}}class at{constructor(y,S){this.languagesPath="languages/",this.languageMap={},this.scopeToLangMap={},this._onigLibPromise=y,this._onigLibName=S}get onigLib(){return this._onigLibPromise}getOnigLibName(){return this._onigLibName}getLangRegistration(y){return this.languageMap[y]}async loadGrammar(y){const S=this.scopeToLangMap[y];if(!S)return null;if(S.grammar)return S.grammar;const l=await nt(Le.includes(S)?`${this.languagesPath}${S.path}`:S.path);return S.grammar=l,l}addLanguage(y){this.languageMap[y.id]=y,y.aliases&&y.aliases.forEach(S=>{this.languageMap[S]=y}),this.scopeToLangMap[y.scopeName]=y}}function it(t,y,S,l,R){let a=S.split(/\r\n|\r|\n/),L=ye.INITIAL,k=[],v=[];for(let r=0,w=a.length;r<w;r++){let m=a[r];if(m===""){k=[],v.push([]);continue}let b,T,g;R.includeExplanation&&(b=l.tokenizeLine(m,L),T=b.tokens,g=0);let j=l.tokenizeLine2(m,L),N=j.tokens.length/2;for(let d=0;d<N;d++){let u=j.tokens[2*d],c=d+1<N?j.tokens[2*d+2]:m.length;if(u===c)continue;let _=j.tokens[2*d+1],o=K.getForeground(_),e=y[o],n=K.getFontStyle(_),i=[];if(R.includeExplanation){let s=0;for(;u+s<c;){let h=T[g],p=m.substring(h.startIndex,h.endIndex);s+=p.length,i.push({content:p,scopes:ot(t,h.scopes)}),g++}}k.push({content:m.substring(u,c),color:e,fontStyle:n,explanation:i})}v.push(k),k=[],L=j.ruleStack}return v}function ot(t,y){let S=[];for(let l=0,R=y.length;l<R;l++){let a=y.slice(0,l),L=y[l];S[l]={scopeName:L,themeMatches:lt(t,L,a)}}return S}function Ie(t,y){let S=t+".";return t===y||y.substring(0,S.length)===S}function ct(t,y,S,l){if(!Ie(t,S))return!1;let R=y.length-1,a=l.length-1;for(;R>=0&&a>=0;)Ie(y[R],l[a])&&R--,a--;return R===-1}function lt(t,y,S){let l=[],R=0;for(let a=0,L=t.settings.length;a<L;a++){let k=t.settings[a],v;if(typeof k.scope=="string")v=k.scope.split(/,/).map(r=>r.trim());else if(Array.isArray(k.scope))v=k.scope;else continue;for(let r=0,w=v.length;r<w;r++){let b=v[r].split(/ /),T=b[b.length-1],g=b.slice(0,b.length-1);ct(T,g,y,S)&&(l[R++]=k,r=w)}}return l}const ut={pre({className:t,style:y,children:S}){return`<pre class="${t}" style="${y}">${S}</pre>`},code({children:t}){return`<code>${t}</code>`},line({className:t,children:y}){return`<span class="${t}">${y}</span>`},token({style:t,children:y}){return`<span style="${t}">${y}</span>`}};function pt(t,y={}){const S=y.bg||"#fff",l=Ve(y.lineOptions??[],L=>L.line),R=y.elements||{};function a(L="",k={},v){const r=R[L]||ut[L];return r?(v=v.filter(Boolean),r({...k,children:L==="code"?v.join(`
`):v.join("")})):""}return a("pre",{className:"shiki "+(y.themeName||""),style:`background-color: ${S}`},[y.langId?`<div class="language-id">${y.langId}</div>`:"",a("code",{},t.map((L,k)=>{const v=k+1,r=l.get(v)??[],w=mt(r).join(" ");return a("line",{className:w,lines:t,line:L,index:k},L.map((m,b)=>{const T=[`color: ${m.color||y.fg}`];return m.fontStyle&be.Italic&&T.push("font-style: italic"),m.fontStyle&be.Bold&&T.push("font-weight: bold"),m.fontStyle&be.Underline&&T.push("text-decoration: underline"),a("token",{style:T.join("; "),tokens:L,token:m,index:b},[gt(m.content)])}))}))])}const ht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function gt(t){return t.replace(/[&<>"']/g,y=>ht[y])}function mt(t){const y=new Set(["line"]);for(const S of t)for(const l of S.classes??[])y.add(l);return Array.from(y)}class dt extends ye.Registry{constructor(y){super(y),this._resolver=y,this.themesPath="themes/",this._resolvedThemes={},this._resolvedGrammars={},this._langGraph=new Map,this._langMap=Le.reduce((S,l)=>(S[l.id]=l,S),{})}getTheme(y){return typeof y=="string"?this._resolvedThemes[y]:y}async loadTheme(y){return typeof y=="string"?(this._resolvedThemes[y]||(this._resolvedThemes[y]=await Fe(`${this.themesPath}${y}.json`)),this._resolvedThemes[y]):(y=$e(y),y.name&&(this._resolvedThemes[y.name]=y),y)}async loadThemes(y){return await Promise.all(y.map(S=>this.loadTheme(S)))}getLoadedThemes(){return Object.keys(this._resolvedThemes)}getGrammar(y){return this._resolvedGrammars[y]}async loadLanguage(y){const l={embeddedLanguages:y.embeddedLangs?.reduce(async(a,L,k)=>{if(!this.getLoadedLanguages().includes(L)&&this._resolver.getLangRegistration(L))return await this._resolver.loadGrammar(this._resolver.getLangRegistration(L).scopeName),a[this._resolver.getLangRegistration(L).scopeName]=k+2,a},{}),balancedBracketSelectors:y.balancedBracketSelectors||["*"],unbalancedBracketSelectors:y.unbalancedBracketSelectors||[]},R=await this.loadGrammarWithConfiguration(y.scopeName,1,l);this._resolvedGrammars[y.id]=R,y.aliases&&y.aliases.forEach(a=>{this._resolvedGrammars[a]=R})}async loadLanguages(y){for(const l of y)this.resolveEmbeddedLanguages(l);const S=Array.from(this._langGraph.values());for(const l of S)this._resolver.addLanguage(l);for(const l of S)await this.loadLanguage(l)}getLoadedLanguages(){return Object.keys(this._resolvedGrammars)}resolveEmbeddedLanguages(y){if(this._langGraph.has(y.id)||this._langGraph.set(y.id,y),y.embeddedLangs)for(const S of y.embeddedLangs)this._langGraph.set(S,this._langMap[S])}}function Ue(t){return typeof t=="string"?Le.find(y=>y.id===t||y.aliases?.includes(t)):t}function ft(t){let y=Le,S=t.themes||[],l=t.paths?.wasm?t.paths.wasm.endsWith("/")?t.paths.wasm:t.paths.wasm+"/":Ye;return t.langs&&(y=t.langs.map(Ue)),t.theme&&S.unshift(t.theme),S.length||(S=["nord"]),{_languages:y,_themes:S,_wasmPath:l}}async function kt(t){const{_languages:y,_themes:S,_wasmPath:l}=ft(t),R=new at(et(l),"vscode-oniguruma"),a=new dt(R);t.paths?.themes&&(a.themesPath=t.paths.themes.endsWith("/")?t.paths.themes:t.paths.themes+"/"),t.paths?.languages&&(R.languagesPath=t.paths.languages.endsWith("/")?t.paths.languages:t.paths.languages+"/");const k=(await a.loadThemes(S))[0];let v;await a.loadLanguages(y);let r={"#000001":"var(--shiki-color-text)","#000002":"var(--shiki-color-background)","#000004":"var(--shiki-token-constant)","#000005":"var(--shiki-token-string)","#000006":"var(--shiki-token-comment)","#000007":"var(--shiki-token-keyword)","#000008":"var(--shiki-token-parameter)","#000009":"var(--shiki-token-function)","#000010":"var(--shiki-token-string-expression)","#000011":"var(--shiki-token-punctuation)","#000012":"var(--shiki-token-link)"};function w(e){r=e}function m(e,n){e.bg=r[e.bg]||e.bg,e.fg=r[e.fg]||e.fg,n.forEach((i,s)=>{n[s]=r[i]||i})}function b(e){const n=e?a.getTheme(e):k;if(!n)throw Error(`No theme registration for ${e}`);(!v||v.name!==n.name)&&(a.setTheme(n),v=n);const i=a.getColorMap();return n.type==="css"&&m(n,i),{_theme:n,_colorMap:i}}function T(e){const n=a.getGrammar(e);if(!n)throw Error(`No language registration for ${e}`);return{_grammar:n}}function g(e,n="text",i,s={includeExplanation:!0}){if(_t(n))return[...e.split(/\r\n|\r|\n/).map(x=>[{content:x}])];const{_grammar:h}=T(n),{_theme:p,_colorMap:f}=b(i);return it(p,f,e,h,s)}function j(e,n="text",i){let s;typeof n=="object"?s=n:s={lang:n,theme:i};const h=g(e,s.lang,s.theme,{includeExplanation:!1}),{_theme:p}=b(s.theme);return pt(h,{fg:p.fg,bg:p.bg,lineOptions:s?.lineOptions,themeName:p.name})}async function N(e){await a.loadTheme(e)}async function d(e){const n=Ue(e);R.addLanguage(n),await a.loadLanguage(n)}function u(){return a.getLoadedThemes()}function c(){return a.getLoadedLanguages()}function _(e){const{_theme:n}=b(e);return n.bg}function o(e){const{_theme:n}=b(e);return n.fg}return{codeToThemedTokens:g,codeToHtml:j,getTheme:e=>b(e)._theme,loadTheme:N,loadLanguage:d,getBackgroundColor:_,getForegroundColor:o,getLoadedThemes:u,getLoadedLanguages:c,setColorReplacements:w}}function _t(t){return!t||["plaintext","txt","text"].includes(t)}function Lt(t){Ke(t)}const bt="0.2.0";Ze(`https://cdn.jsdelivr.net/npm/shiki-es@${bt}/dist/assets/`);export{Le as BUNDLED_LANGUAGES,yt as BUNDLED_THEMES,be as FontStyle,kt as getHighlighter,Fe as loadTheme,pt as renderToHtml,Ze as setCDN,Lt as setOnigasmWASM,Ke as setWasm,$e as toShikiTheme};
